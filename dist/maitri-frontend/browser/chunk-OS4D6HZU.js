import{a as O}from"./chunk-MJXRGIGU.js";import{a as B}from"./chunk-UEU63EIJ.js";import{a as R}from"./chunk-AUL4PSW3.js";import{a as _}from"./chunk-NTYYFM43.js";import{a as F}from"./chunk-N7UIUSV4.js";import{Gc as h,Hc as N,Ic as E,Jb as u,Lb as g,Ma as v,Na as b,Vb as i,Wb as t,Xb as f,jd as k,oc as l,pc as p,qc as y,rb as s,rc as S,rd as D,sb as c,sd as I,td as j,yc as w,za as x}from"./chunk-VIIRXEWM.js";function T(n,o){if(n&1&&(i(0,"div",13)(1,"div",14),f(2,"i",15),t(),i(3,"div",16)(4,"p",17)(5,"span",18),l(6),t(),l(7),t(),i(8,"p",19),l(9),t(),i(10,"p",19),l(11),h(12,"date"),t()()()),n&2){let a=o.$implicit;s(6),S("",a.sender.firstName," ",a.sender.lastName,""),s(),y(" ",a.title," "),s(2),p(a.message),s(2),p(E(12,5,a.createdAt,"short"))}}function A(n,o){if(n&1&&(i(0,"div")(1,"h2",11),l(2),t(),u(3,T,13,8,"div",12),t()),n&2){let a=o.$implicit;s(2),p(a.key),s(),g("ngForOf",a.value)}}var K=(()=>{let o=class o{constructor(e,r,m,d,M){this.route=e,this.userService=r,this.toastr=m,this.doctorService=d,this.adminService=M,this.notifications=[]}ngOnInit(){this.expectedRole=this.route.snapshot.data.expectedRole,console.log("Expected Role:",this.expectedRole),this.getNotiifcations()}getNotiifcations(){this.expectedRole==="User"?this.userService.getNotifications().subscribe({next:e=>{console.log(e),this.notifications=e.data,console.log(this.notifications)},error:e=>{}}):this.expectedRole==="Doctor"?this.doctorService.getNotificationsOfDoctor().subscribe({next:e=>{console.log(e),this.notifications=e.data,console.log(this.notifications)},error:e=>{this.toastr.error(e)}}):this.expectedRole==="Admin"&&this.adminService.getNotification().subscribe({next:e=>{console.log(e),this.notifications=e.data,console.log(this.notifications)},error:e=>{this.toastr.error(e)}})}groupNotificationsByDay(){let e={};return this.notifications.forEach(r=>{let d=new Date(r.createdAt).toLocaleDateString();e[d]||(e[d]=[]),e[d].push(r)}),e}};o.\u0275fac=function(r){return new(r||o)(c(F),c(R),c(_),c(B),c(O))},o.\u0275cmp=x({type:o,selectors:[["app-notification"]],standalone:!0,features:[w],decls:15,vars:3,consts:[[1,"w-full","bg-gray-50","h-screen","overflow-y-auto","p-8","right-0"],[1,"flex","items-center","justify-between"],["tabindex","0",1,"focus:outline-none","text-2xl","font-semibold","leading-6","text-gray-800"],["role","button","aria-label","close modal",1,"focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-gray-500","rounded-md","cursor-pointer"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M18 6L6 18","stroke","#4B5563","stroke-width","1.25","stroke-linecap","round","stroke-linejoin","round"],["d","M6 6L18 18","stroke","#4B5563","stroke-width","1.25","stroke-linecap","round","stroke-linejoin","round"],[4,"ngFor","ngForOf"],[1,"flex","items-center","justiyf-between"],[1,"w-full"],["tabindex","0",1,"focus:outline-none","text-sm","flex","flex-shrink-0","leading-normal","px-3","py-16","text-gray-500"],["tabindex","0",1,"focus:outline-none","text-sm","leading-normal","pt-8","border-b","pb-2","border-gray-300","text-gray-600"],["class","w-full p-3 mt-8 bg-white rounded flex",4,"ngFor","ngForOf"],[1,"w-full","p-3","mt-8","bg-white","rounded","flex"],["tabindex","0","aria-label","heart icon","role","img",1,"focus:outline-none","w-10","h-10","border","rounded-full","border-gray-200","flex","items-center","justify-center"],[1,"fa-solid","fa-bell","fa-shake","fa-lg",2,"color","#2d73eb"],[1,"pl-3"],["tabindex","0",1,"focus:outline-none","text-sm","leading-none"],[1,"text-indigo-700"],["tabindex","0",1,"focus:outline-none","text-xs","leading-3","pt-1","text-gray-500"]],template:function(r,m){r&1&&(i(0,"div",0)(1,"div",1)(2,"p",2),l(3,"Notifications"),t(),i(4,"button",3),v(),i(5,"svg",4),f(6,"path",5)(7,"path",6),t()()(),u(8,A,4,2,"div",7),h(9,"keyvalue"),b(),i(10,"div",8),f(11,"hr",9),i(12,"p",10),l(13,"Thats it for now :)"),t(),f(14,"hr",9),t()()),r&2&&(s(8),g("ngForOf",N(9,1,m.groupNotificationsByDay())))},dependencies:[j,k,D,I]});let n=o;return n})();export{K as a};
