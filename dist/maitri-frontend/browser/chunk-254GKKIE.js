import{a as ce}from"./chunk-BWNZ4V3T.js";import{a as ue}from"./chunk-DFJZVLJ3.js";import"./chunk-OYH2ZTGU.js";import"./chunk-SIJ2WVAN.js";import"./chunk-622RAHA6.js";import{a as Oe}from"./chunk-6FQITMBZ.js";import{a as pe}from"./chunk-NLJXAVK5.js";import"./chunk-GRI36B3B.js";import{a as Ve}from"./chunk-ZWNRH5TL.js";import{a as Re,b as Ne}from"./chunk-QIN4DIIA.js";import"./chunk-LBT3GFMF.js";import"./chunk-YPWXGBEZ.js";import"./chunk-VAQNUOTJ.js";import{a as Le}from"./chunk-VQQBBI66.js";import"./chunk-KJ3GM3J4.js";import"./chunk-QGODX7D3.js";import{A as me,g as de,s as Fe,z as he}from"./chunk-H4JCRTWG.js";import{a as k}from"./chunk-XDNE7C6I.js";import"./chunk-BOJN3ANA.js";import"./chunk-AABX2EYY.js";import"./chunk-WPJU34GS.js";import{a as De}from"./chunk-LRTJYWEG.js";import{a as Te,c as Ue}from"./chunk-MTKYK2Y2.js";import"./chunk-I5BXG6T3.js";import"./chunk-UAFMR3GN.js";import"./chunk-T6FY75RP.js";import"./chunk-NWKVY3N5.js";import"./chunk-WGAHO6ZC.js";import{a as D}from"./chunk-OQKLRLHO.js";import"./chunk-6CS5MZYZ.js";import"./chunk-7B4WEPGY.js";import{n as se}from"./chunk-B63CGU3U.js";import{b as Ce,d as G,e as Ee,g as xe}from"./chunk-FX3PANRP.js";import{B as le,C as ae,D as Z,c as ee,e as w,g as te,h as ie,m as ne,p as re,s as oe,t as ke,u as Pe,v as Ie,y as Me}from"./chunk-YKYY62M2.js";import"./chunk-3UF7QMRJ.js";import"./chunk-Y6YHTU6Y.js";import{Ac as Y,Fc as C,Gc as M,Hc as Q,Ib as c,Ic as O,Ja as b,Ka as _,Kb as m,La as y,Ma as S,Mb as _e,Qb as ge,Ub as t,Vb as i,Wb as p,Xb as T,Yb as U,_b as I,bc as x,dc as u,hd as q,id as F,jd as E,kb as j,mc as R,na as ve,nc as o,oc as h,od as Se,pc as N,pd as we,qb as s,qc as z,qd as V,rb as g,sd as X,xc as ye,ya as v,yc as L,za as be,zc as $}from"./chunk-7CRQF3FF.js";var Je=()=>["/profile"],Ke=()=>({exact:!0}),Qe=()=>["/profile/appoinments"],Xe=()=>["/profile/interests"],et=()=>["/profile/wallet"],tt=()=>["/profile/medical-records"],it=()=>["/profile/saved-posts"],nt=()=>["/profile/notifications"],Ae=(()=>{let r=class r{constructor(n,a){this.store=n,this.userService=a,this.selectedFile=null,this.previewUrl=null,this.imageSrc="",this.loading=!0}ngOnInit(){this.loadCurrentUserDetails(),this.geturrentUserDetails()}loadCurrentUserDetails(){this.store.dispatch(de())}geturrentUserDetails(){this.store.select(me).subscribe(n=>{n&&(this.UserDetails=n,n.profilePic&&(this.imageSrc=n.profilePic))})}onImageSelected(n){console.log("Selected image:",n),n&&this.ChangeProfileImage(n)}ChangeProfileImage(n){let a=new FormData;a.append("profilePic",n,n.name),this.userService.changeProfilePic(a).subscribe({next:l=>{this.imageSrc=l.data},error:l=>{alert(l)}})}};r.\u0275fac=function(a){return new(a||r)(g(se),g(k))},r.\u0275cmp=v({type:r,selectors:[["app-user-profile-main-page"]],decls:37,vars:24,consts:[[1,"grid","grid-cols-1","md:grid-cols-3","mt-3","gap-4"],[1,"md:col-span-1","md:order-1"],[1,"p-4","rounded-lg","shadow-lg"],[1,"bg-white","overflow-hidden","rounded-lg"],[1,"flex","flex-col","border-b","border-gray-200","gap-1","text-center"],[3,"imageFile","src"],[1,"font-serif","font-semibold"],[1,"text-sm","text-gray-500","mb-2"],[1,"font-semibold"],[1,"px-4","py-5","sm:p-0"],[1,"sm:divide-y","sm:divide-gray-200"],[1,"sticky","flex","flex-col","gap-2","p-4","text-sm","top-12"],["routerLinkActive","text-sky-500 border rounded-full",1,"flex","items-center","px-3","py-2.5","font-semibold","hover:text-blue-500","hover:border","hover:rounded-full",3,"routerLink","routerLinkActiveOptions"],["routerLinkActive","text-sky-500 border rounded-full",1,"flex","items-center","px-3","py-2.5","font-semibold","hover:text-blue-500","hover:border","hover:rounded-full",3,"routerLink"],[1,"md:col-span-2","md:order-2"],[1,"p-4","rounded-lg","shadow-md"]],template:function(a,l){a&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"app-profile-picture",5),x("imageFile",function(P){return l.onImageSelected(P)}),i(),t(6,"p",6),o(7),i(),t(8,"span",7),o(9,"Date-of-Birth : "),t(10,"span",8),o(11),C(12,"date"),i()(),t(13,"span",7),o(14,"Email : "),t(15,"span",8),o(16),i()()(),t(17,"div",9)(18,"div",10)(19,"div",11)(20,"a",12),o(21," Profile "),i(),t(22,"a",13),o(23," Appoinments "),i(),t(24,"a",13),o(25," Interested Doctors "),i(),t(26,"a",13),o(27," Wallet "),i(),t(28,"a",13),o(29," Medical Records "),i(),t(30,"a",13),o(31," Saved Posts "),i(),t(32,"a",13),o(33," Notifications "),i()()()()()()(),t(34,"div",14)(35,"div",15),p(36,"router-outlet"),i()()()),a&2&&(s(5),m("src",l.imageSrc?l.imageSrc:""),s(2),z("",l.UserDetails.firstName?l.UserDetails.firstName:"Loading"," ",l.UserDetails.firstName?l.UserDetails.lastName:"...",""),s(4),N(" ",Q(12,13,l.UserDetails.dateOfBirth,"EEE, dd MMM yyyy"),""),s(5),N(" ",l.UserDetails.email,""),s(4),m("routerLink",L(16,Je))("routerLinkActiveOptions",L(17,Ke)),s(2),m("routerLink",L(18,Qe)),s(2),m("routerLink",L(19,Xe)),s(2),m("routerLink",L(20,et)),s(2),m("routerLink",L(21,tt)),s(2),m("routerLink",L(22,it)),s(2),m("routerLink",L(23,nt)))},dependencies:[Ce,G,Ee,ce,V]});let e=r;return e})();var ot=e=>({"disabled-select":e});function lt(e,r){if(e&1&&(t(0,"div",34),o(1),i()),e&2){let d=u();s(),h(d.UserDetails.email)}}function at(e,r){e&1&&(t(0,"span",34),o(1,"Email not available"),i())}function st(e,r){e&1&&(t(0,"div"),o(1,"First name is required"),i())}function dt(e,r){e&1&&(t(0,"div"),o(1,"First name must be at least 3 characters long"),i())}function mt(e,r){e&1&&(t(0,"div"),o(1,"First name cannot be longer than 25 characters"),i())}function ct(e,r){if(e&1&&(t(0,"div",35),c(1,st,2,0,"div",36)(2,dt,2,0,"div",36)(3,mt,2,0,"div",36),i()),e&2){let d,n,a,l=u();s(),m("ngIf",(d=l.profileForm.get("firstName"))==null||d.errors==null?null:d.errors.required),s(),m("ngIf",(n=l.profileForm.get("firstName"))==null||n.errors==null?null:n.errors.minlength),s(),m("ngIf",(a=l.profileForm.get("firstName"))==null||a.errors==null?null:a.errors.maxlength)}}function pt(e,r){e&1&&(t(0,"div"),o(1,"Last name is required"),i())}function ut(e,r){e&1&&(t(0,"div"),o(1,"Last name must be at least 1 character long"),i())}function ft(e,r){e&1&&(t(0,"div"),o(1,"Last name cannot be longer than 25 characters"),i())}function gt(e,r){if(e&1&&(t(0,"div",35),c(1,pt,2,0,"div",36)(2,ut,2,0,"div",36)(3,ft,2,0,"div",36),i()),e&2){let d,n,a,l=u();s(),m("ngIf",(d=l.profileForm.get("lastName"))==null||d.errors==null?null:d.errors.required),s(),m("ngIf",(n=l.profileForm.get("lastName"))==null||n.errors==null?null:n.errors.minlength),s(),m("ngIf",(a=l.profileForm.get("lastName"))==null||a.errors==null?null:a.errors.maxlength)}}function xt(e,r){e&1&&(t(0,"div"),o(1,"Username is required"),i())}function ht(e,r){e&1&&(t(0,"div"),o(1,"Username cannot be longer than 25 characters"),i())}function vt(e,r){e&1&&(t(0,"div"),o(1,"Username can only contain lowercase letters, numbers, and underscores"),i())}function bt(e,r){if(e&1&&(t(0,"div",35),c(1,xt,2,0,"div",36)(2,ht,2,0,"div",36)(3,vt,2,0,"div",36),i()),e&2){let d,n,a,l=u();s(),m("ngIf",(d=l.profileForm.get("username"))==null||d.errors==null?null:d.errors.required),s(),m("ngIf",(n=l.profileForm.get("username"))==null||n.errors==null?null:n.errors.maxlength),s(),m("ngIf",(a=l.profileForm.get("username"))==null||a.errors==null?null:a.errors.pattern)}}function _t(e,r){if(e&1&&(t(0,"div",34),o(1),C(2,"date"),i()),e&2){let d=u();s(),h(M(2,1,d.UserDetails.dateOfBirth))}}function yt(e,r){e&1&&(t(0,"span",34),o(1,"Date of Brith Not available"),i())}function St(e,r){e&1&&p(0,"input",37)}function wt(e,r){e&1&&(t(0,"div"),o(1,"Date of birth is required"),i())}function Ct(e,r){if(e&1&&(t(0,"div",35),c(1,wt,2,0,"div",36),i()),e&2){let d,n=u();s(),m("ngIf",(d=n.profileForm.get("dateOfBirth"))==null||d.errors==null?null:d.errors.required)}}function Et(e,r){e&1&&(t(0,"div"),o(1,"Gender is required"),i())}function kt(e,r){if(e&1&&(t(0,"div",35),c(1,Et,2,0,"div",36),i()),e&2){let d,n=u();s(),m("ngIf",(d=n.profileForm.get("gender"))==null||d.errors==null?null:d.errors.required)}}function Pt(e,r){e&1&&(t(0,"span"),p(1,"i",39),i())}function It(e,r){e&1&&(t(0,"span"),o(1,"Save"),i())}function Mt(e,r){if(e&1&&(t(0,"button",38),C(1,"async"),c(2,Pt,2,0,"span",36),C(3,"async"),c(4,It,2,0,"span",36),C(5,"async"),i()),e&2){let d=u();_e("btn-loading",M(1,4,d.loading$)),s(2),m("ngIf",M(3,6,d.loading$)),s(2),m("ngIf",!M(5,8,d.loading$))}}function Ft(e,r){if(e&1){let d=I();t(0,"button",40),x("click",function(){b(d);let a=u();return _(a.ClickToEdit())}),o(1,"Edit"),i()}}var Be=(()=>{let r=class r{constructor(n,a,l){this.store=n,this.formBuilder=a,this.userService=l,this.isEdit=!1,this.hasLoadingOccurred=!1,this.loading$=this.store.select(he)}ngOnInit(){this.loadCurrentUserDetails(),this.geturrentUserDetails(),this.initForm(),this.store.select(he).subscribe(n=>{this.hasLoadingOccurred?n||(this.isEdit=!1):n&&(this.hasLoadingOccurred=!0)})}initForm(){this.profileForm=this.formBuilder.group({firstName:["",[w.required,w.minLength(3),w.maxLength(25)]],lastName:["",[w.required,w.minLength(1),w.maxLength(25)]],username:["",[w.required,w.maxLength(25),w.pattern(/^[a-z0-9_]+$/)]],dateOfBirth:["",w.required],gender:["",w.required,Le.checkSixYaersBefore]})}get f(){return this.profileForm.controls}loadCurrentUserDetails(){this.store.dispatch(de())}geturrentUserDetails(){this.store.select(me).subscribe(n=>{n&&(this.UserDetails=n,this.setFormValues())})}ClickToEdit(){this.isEdit=!this.isEdit}setFormValues(){this.profileForm.patchValue({firstName:this.UserDetails.firstName,lastName:this.UserDetails.lastName,username:this.UserDetails.username,dateOfBirth:this.UserDetails.dateOfBirth,gender:this.UserDetails.gender})}onSubmit(){this.profileForm.valid?(console.log(this.profileForm.value),this.store.dispatch(Fe({user:this.profileForm.value}))):this.profileForm.markAllAsTouched()}changePassword(){this.userService.changePassword().subscribe(n=>{alert("Password reset link sent successfully.")},n=>{console.error("Error occurred while sending password reset link:",n)})}};r.\u0275fac=function(a){return new(a||r)(g(se),g(le),g(k))},r.\u0275cmp=v({type:r,selectors:[["app-home-profile"]],decls:56,vars:19,consts:[[1,"p-2","md:p-4"],[1,"w-full","px-6","pb-8","sm:max-w-xl","sm:rounded-lg"],[1,"grid","max-w-2xl","mx-auto"],[1,"items-center","sm:mt-14","text-[#202142]"],[1,"mb-2","sm:mb-6"],[1,"text-sm","font-medium","text-blue-900","dark:text-white"],[1,"flex","items-center","w-full","gap-5"],["class","bg-blue-50 border border-blue-300 text-blue-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",4,"ngIf"],[1,"text-blue-600","dark:text-blue-400","hover:text-blue-800","dark:hover:text-blue-300","focus:outline-none"],[3,"ngSubmit","formGroup"],[1,"flex","flex-col","items-center","w-full","mb-2","space-x-0","space-y-2","sm:flex-row","sm:space-x-4","sm:space-y-0","sm:mb-6"],[1,"w-full"],["for","first_name",1,"block","mb-2","text-sm","font-medium","text-blue-900","dark:text-white"],["type","text","id","first_name","formControlName","firstName","placeholder","Your first name","required","",1,"bg-blue-50","border","border-blue-300","text-blue-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5",3,"readonly"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["for","last_name",1,"block","mb-2","text-sm","font-medium","text-blue-900","dark:text-white"],["type","text","id","last_name","formControlName","lastName","placeholder","Your last name","required","",1,"bg-blue-50","border","border-blue-300","text-blue-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5",3,"readonly"],["for","username",1,"block","mb-2","text-sm","font-medium","text-blue-900","dark:text-white"],["type","text","id","username","formControlName","username","placeholder","Your username","required","",1,"bg-blue-50","border","border-blue-300","text-blue-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5",3,"readonly"],["for","date_of_birth",1,"block","mb-2","text-sm","font-medium","text-blue-900","dark:text-white"],["type","date","id","date_of_birth","formControlName","dateOfBirth","class","bg-blue-50 border border-blue-300 text-blue-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5","required","",4,"ngIf"],[1,"mb-6"],["for","gender",1,"block","mb-2","text-sm","font-medium","text-blue-900","dark:text-white"],["id","gender","formControlName","gender","required","",1,"bg-blue-50","border","border-blue-300","text-blue-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5",3,"ngClass"],["value",""],["value","male"],["value","female"],["value","other"],[1,"flex","justify-end"],["type","submit","class","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",3,"btn-loading",4,"ngIf"],["class","text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",3,"click",4,"ngIf"],[1,"flex","flex-col","items-center","space-y-5","sm:flex-row","sm:space-y-0"],[1,"flex","flex-col","space-y-5","sm:ml-8"],["type","button",1,"py-3.5","px-7","text-base","font-medium","text-blue-100","focus:outline-none","bg-blue-400","rounded-lg","border","border-blue-200","hover:bg-blue-900","focus:z-10","focus:ring-4","focus:ring-blue-200",3,"click"],[1,"bg-blue-50","border","border-blue-300","text-blue-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"],["type","date","id","date_of_birth","formControlName","dateOfBirth","required","",1,"bg-blue-50","border","border-blue-300","text-blue-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5"],["type","submit",1,"text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","w-full","sm:w-auto","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800"],[1,"fas","fa-spinner","fa-spin"],[1,"text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","w-full","sm:w-auto","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"click"]],template:function(a,l){if(a&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),o(6,"Your email:"),i(),t(7,"div",6),c(8,lt,2,1,"div",7)(9,at,2,0,"span",7),t(10,"button",8),o(11," Change "),i()()(),t(12,"form",9),x("ngSubmit",function(){return l.onSubmit()}),t(13,"div",10)(14,"div",11)(15,"label",12),o(16,"Your first name"),i(),p(17,"input",13),c(18,ct,4,3,"div",14),i(),t(19,"div",11)(20,"label",15),o(21,"Your last name"),i(),p(22,"input",16),c(23,gt,4,3,"div",14),i()(),t(24,"div",4)(25,"label",17),o(26,"Your username"),i(),p(27,"input",18),c(28,bt,4,3,"div",14),i(),t(29,"div",4)(30,"label",19),o(31,"Date of Birth"),i(),c(32,_t,3,3,"div",7)(33,yt,2,0,"span",7)(34,St,1,0,"input",20)(35,Ct,2,1,"div",14),i(),t(36,"div",21)(37,"label",22),o(38,"Gender"),i(),t(39,"select",23)(40,"option",24),o(41,"Select gender"),i(),t(42,"option",25),o(43,"Male"),i(),t(44,"option",26),o(45,"Female"),i(),t(46,"option",27),o(47,"Other"),i()(),c(48,kt,2,1,"div",14),i(),t(49,"div",28),c(50,Mt,6,10,"button",29)(51,Ft,2,0,"button",30),i()()(),t(52,"div",31)(53,"div",32)(54,"button",33),x("click",function(){return l.changePassword()}),o(55," Change Password "),i()()()()()()),a&2){let f,P,B,J,K;s(8),m("ngIf",l.UserDetails==null?null:l.UserDetails.email),s(),m("ngIf",!(l.UserDetails!=null&&l.UserDetails.email)),s(3),m("formGroup",l.profileForm),s(5),m("readonly",!l.isEdit),s(),m("ngIf",((f=l.profileForm.get("firstName"))==null?null:f.touched)&&((f=l.profileForm.get("firstName"))==null?null:f.errors)),s(4),m("readonly",!l.isEdit),s(),m("ngIf",((P=l.profileForm.get("lastName"))==null?null:P.touched)&&((P=l.profileForm.get("lastName"))==null?null:P.errors)),s(4),m("readonly",!l.isEdit),s(),m("ngIf",((B=l.profileForm.get("username"))==null?null:B.touched)&&((B=l.profileForm.get("username"))==null?null:B.errors)),s(4),m("ngIf",(l.UserDetails==null?null:l.UserDetails.dateOfBirth)&&!l.isEdit),s(),m("ngIf",!(l.UserDetails!=null&&l.UserDetails.dateOfBirth)&&!l.isEdit),s(),m("ngIf",l.isEdit),s(),m("ngIf",((J=l.profileForm.get("dateOfBirth"))==null?null:J.touched)&&((J=l.profileForm.get("dateOfBirth"))==null?null:J.errors)),s(4),m("ngClass",$(17,ot,!l.isEdit)),s(9),m("ngIf",((K=l.profileForm.get("gender"))==null?null:K.touched)&&((K=l.profileForm.get("gender"))==null?null:K.errors)),s(2),m("ngIf",l.isEdit),s(),m("ngIf",!l.isEdit)}},dependencies:[q,E,ne,Pe,Ie,ee,ke,te,ie,Me,re,oe,Se,V],styles:[".disabled-select[_ngcontent-%COMP%]{cursor:not-allowed;pointer-events:none}"]});let e=r;return e})();function Dt(e,r){if(e&1){let d=I();t(0,"div")(1,"app-appoinment-list",14),x("editUserStatus",function(a){b(d);let l=u(2);return _(l.changeStatus(a))}),i()()}if(e&2){let d=r.$implicit,n=u(2);s(),m("appoinmentDetails",d)("userType",n.userType)}}function Tt(e,r){if(e&1&&(T(0,12),c(1,Dt,2,2,"div",13),U()),e&2){let d=u();s(),m("ngForOf",d.userAppoinmentDetails)}}function Ut(e,r){e&1&&(t(0,"div",15),y(),t(1,"svg",16),p(2,"path",17),i(),S(),t(3,"p"),o(4,"You don't have any appointments"),i(),t(5,"p"),o(6,"Click the button below to schedule your first appointment."),i(),t(7,"button",18),o(8,"Schedule Appointment"),i()()),e&2&&(s(7),m("routerLink","/find-doctors"))}var je=(()=>{let r=class r{constructor(n,a){this.userService=n,this.toastr=a,this.currentPage=1,this.totalPages=0,this.totalCount=0,this.pageSize=6,this.userType="user"}ngOnInit(){this.totalPages=Math.ceil(this.totalCount/this.pageSize),this.fetchUserAppoinmentDetails()}fetchUserAppoinmentDetails(){this.userService.getUserAppoinments(this.currentPage,this.pageSize).subscribe(n=>{console.log("Repsonse from userlisitng",n),this.userAppoinmentDetails=n.data.appointments,this.currentPage=n.data.page,this.pageSize=n.data.pageSize,this.totalCount=n.data.totalCount,this.totalPages=n.data.totalPages},n=>{setTimeout(()=>{this.toastr.error(n)},500)})}changeStatus(n){console.log("event",n),this.userService.requestTochangeAppoinmentStatus(n.id,n.reason,n.status).subscribe({next:a=>{console.log(a.data);let l=this.userAppoinmentDetails.findIndex(f=>f._id.toString()===n.id.toString());console.log(a.data,l),l!==-1?this.userAppoinmentDetails[l].status=n.status:console.error("Appointment not found:",n.id)},error:a=>{console.error("Error:",a)}})}onPreviousPage(){this.currentPage>1&&(this.currentPage--,this.fetchUserAppoinmentDetails())}onPageChange(n){this.currentPage=n,this.fetchUserAppoinmentDetails()}onNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.fetchUserAppoinmentDetails())}};r.\u0275fac=function(a){return new(a||r)(g(k),g(D))},r.\u0275cmp=v({type:r,selectors:[["app-user-side-appoinment-listing"]],decls:14,vars:6,consts:[["noAppointments",""],[1,"relative","flex","flex-col","gap-3","m-2","text-gray-700","bg-white","shadow-md","w-full","rounded-xl","bg-clip-border"],[1,"flex","justify-between","m-5","pb-3","border-b-2","border-gray-700"],[1,"text-lg","font-bold"],[1,"flex","items-center","space-x-4"],[1,"pt-2","relative","mx-auto","text-gray-600"],["type","search","name","search","placeholder","Search",1,"border-2","border-gray-300","bg-white","h-10","px-5","pr-16","rounded-lg","text-sm","focus:outline-none"],["type","submit",1,"absolute","right-0","top-0","mt-5","mr-4"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","id","Capa_1","x","0px","y","0px","viewBox","0 0 56.966 56.966",0,"xml","space","preserve","width","512px","height","512px",1,"text-gray-600","h-4","w-4","fill-current",2,"enable-background","new 0 0 56.966 56.966"],["d","M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z"],["class","space-y-4",4,"ngIf","ngIfElse"],[3,"prevPage","nextPage","goToPage","currentPage","totalPages","totalCount","pageSize"],[1,"space-y-4"],[4,"ngFor","ngForOf"],[3,"editUserStatus","appoinmentDetails","userType"],[1,"custom-no-appointments"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[3,"routerLink"]],template:function(a,l){if(a&1){let f=I();t(0,"div",1)(1,"div",2)(2,"h2",3),o(3,"Appoinment Details"),i(),t(4,"div",4)(5,"div",5),p(6,"input",6),t(7,"button",7),y(),t(8,"svg",8),p(9,"path",9),i()()()()(),c(10,Tt,2,1,"ng-container",10),S(),t(11,"app-user-Pagination",11),x("prevPage",function(){return b(f),_(l.onPreviousPage())})("nextPage",function(){return b(f),_(l.onNextPage())})("goToPage",function(B){return b(f),_(l.onPageChange(B))}),i()(),c(12,Ut,9,1,"ng-template",null,0,O)}if(a&2){let f=R(13);s(10),m("ngIf",l.userAppoinmentDetails.length>0)("ngIfElse",f),s(),m("currentPage",l.currentPage)("totalPages",l.totalPages)("totalCount",l.totalCount)("pageSize",l.pageSize)}},dependencies:[pe,ue,G,F,E],styles:[".light-blue-border[_ngcontent-%COMP%]{border-color:#6ee7b7}.light-blue-border[_ngcontent-%COMP%]:hover{border-color:#2563eb}.custom-no-appointments[_ngcontent-%COMP%]{display:flex;height:16rem;flex-direction:column;align-items:center;justify-content:center;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding:1.5rem;--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.custom-no-appointments[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-bottom:1rem;height:3rem;width:3rem;--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}.custom-no-appointments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem;font-weight:600;--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.custom-no-appointments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{margin-top:.5rem;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity))}.custom-no-appointments[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity));padding:.5rem 1rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.custom-no-appointments[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity))}.custom-no-appointments[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px}"]});let e=r;return e})();var Lt=e=>["/book-appoinment",e],Rt=e=>["/get-doctor",e];function Nt(e,r){if(e&1){let d=I();t(0,"div",7)(1,"button",8),x("click",function(){let a=b(d).$implicit,l=u(2);return _(l.removeInterest(a._id))}),y(),t(2,"svg",9),p(3,"path",10),i()(),S(),t(4,"div"),p(5,"img",11),t(6,"div",12)(7,"p",4),o(8),C(9,"titlecase"),i(),t(10,"p",13),o(11,"Psychatrist"),i()()(),t(12,"div",14)(13,"button",15),o(14," Book Now "),i(),t(15,"button",16),o(16," See Profile "),i()()()}if(e&2){let d=r.$implicit;s(5),m("src",d.profilePic,j),s(3),z("Dr.",M(9,5,d.firstName)," ",d.lastName,""),s(5),m("routerLink",$(7,Lt,d._id)),s(2),m("routerLink",$(9,Rt,d._id))}}function Ot(e,r){if(e&1&&(t(0,"div",2)(1,"div",3)(2,"h2",4),o(3,"Favorite Doctors"),i()(),t(4,"div",5),c(5,Nt,17,11,"div",6),i()()),e&2){let d=u();s(5),m("ngForOf",d.intertestedDoctors.doctorsInfo)}}function Vt(e,r){e&1&&(t(0,"div",17),y(),t(1,"svg",18),p(2,"path",19),i(),S(),t(3,"p",20),o(4,"No favorite doctors yet!"),i(),t(5,"p",21),o(6,"Click the heart icon next to a doctor to add them to your favorites."),i(),t(7,"button",22),o(8,"Find Doctors"),i()()),e&2&&(s(7),m("routerLink","/find-doctors"))}var ze=(()=>{let r=class r{constructor(n,a){this.userService=n,this.toastr=a}ngOnInit(){this.getInterestList()}getInterestList(){this.userService.getInterestedDoctors().subscribe(n=>{this.intertestedDoctors=n.data,console.log(this.intertestedDoctors)},n=>{this.toastr.error(n)})}removeInterest(n){this.userService.removeFromInterestedDoctors(n).subscribe({next:a=>{this.intertestedDoctors=this.intertestedDoctors.doctorsInfo.filter(l=>l._id.toString()!==n),console.log(this.intertestedDoctors)},error:a=>{this.toastr.error(a)}})}};r.\u0275fac=function(a){return new(a||r)(g(k),g(D))},r.\u0275cmp=v({type:r,selectors:[["app-interested-doctors"]],decls:3,vars:2,consts:[["nouserIntersets",""],["class","bg-white rounded-lg  overflow-hidden",4,"ngIf","ngIfElse"],[1,"bg-white","rounded-lg","overflow-hidden"],[1,"px-6","py-4"],[1,"text-lg","font-semibold","text-gray-800"],[1,"grid","grid-cols-2","gap-4"],["class","relative flex flex-col bg-gray-100 rounded-lg shadow-md p-4",4,"ngFor","ngForOf"],[1,"relative","flex","flex-col","bg-gray-100","rounded-lg","shadow-md","p-4"],[1,"absolute","top-2","right-3","text-red-500","hover:text-red-700","focus:outline-none",3,"click"],["fill","red","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 21.484l-1.629-1.483C5.29 15.346 2 12.256 2 8.5 2 5.42 4.42 3 7.5 3c1.928 0 3.778.94 4.5 2.5.722-1.56 2.572-2.5 4.5-2.5 3.08 0 5.5 2.42 5.5 5.5 0 3.756-3.29 6.846-8.371 11.5L12 21.484z"],["alt","Doctor 2",1,"h-32","w-32","rounded-full","object-cover","mx-auto",3,"src"],[1,"mt-4","text-center"],[1,"text-sm","text-gray-600"],[1,"flex","justify-between","mt-auto"],[1,"flex-1","rounded-full","bg-blue-600","dark:bg-blue-800","text-white","font-semibold","hover:bg-blue-700","dark:hover:bg-blue-900","px-3","py-1","text-sm",3,"routerLink"],[1,"flex-1","rounded-full","border-2","border-gray-400","dark:border-gray-700","text-gray-800","dark:text-blue-800","font-semibold","hover:bg-gray-200","dark:hover:bg-gray-600","ml-1","px-3","py-1","text-sm",3,"routerLink"],[1,"flex","flex-col","items-center","justify-center","h-64","bg-gradient-to-r","from-blue-100","to-blue-200","shadow-lg","rounded-lg","p-6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-12","w-12","text-blue-500","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-xl","font-bold","text-gray-800"],[1,"mt-2","text-gray-700"],[1,"mt-4","px-4","py-2","bg-blue-600","text-white","rounded-full","hover:bg-blue-700","focus:outline-none",3,"routerLink"]],template:function(a,l){if(a&1&&c(0,Ot,6,1,"div",1)(1,Vt,9,1,"ng-template",null,0,O),a&2){let f=R(2);m("ngIf",l.intertestedDoctors&&l.intertestedDoctors.doctorsInfo&&l.intertestedDoctors.doctorsInfo.length>0)("ngIfElse",f)}},dependencies:[G,F,E,we]});let e=r;return e})();var Ht=(e,r)=>({"text-green-500":e,"text-red-500":r});function At(e,r){if(e&1&&(t(0,"tr",19)(1,"td",20),o(2),C(3,"date"),i(),t(4,"td",16),o(5),i(),t(6,"td",21)(7,"span"),o(8),i(),o(9),i()()),e&2){let d=r.$implicit;s(2),h(M(3,5,d.date)),s(3),h(d.description),s(),m("ngClass",Y(7,Ht,d.type==="credit",d.type==="debit")),s(2),h(d.type==="credit"?"+":"-"),s(),N("\u20B9",d.amount," ")}}function Bt(e,r){if(e&1&&(T(0),c(1,At,10,10,"tr",18),U()),e&2){let d=u();s(),m("ngForOf",d.currentUserWallet.transactions)}}function jt(e,r){e&1&&(t(0,"tr")(1,"td",22)(2,"p"),o(3,"No transactions available."),i()()())}var qe=(()=>{let r=class r{constructor(n){this.userService=n,this.currentPage=1,this.totalPages=0,this.totalCount=0,this.pageSize=6}ngOnInit(){this.loadWalletOfUser()}loadWalletOfUser(){this.userService.getWalletOfUser(this.currentPage,this.pageSize).subscribe({next:n=>{this.currentUserWallet=n.data.wallet,this.currentPage=n.data.page,this.pageSize=n.data.pageSize,this.totalCount=n.data.totalCount,this.totalPages=n.data.totalPages},error:n=>{console.log(n)}})}};r.\u0275fac=function(a){return new(a||r)(g(k))},r.\u0275cmp=v({type:r,selectors:[["app-wallet"]],decls:32,vars:3,consts:[[1,"container","mx-auto","py-6"],[1,"text-3xl","font-bold","mb-6"],[1,"bg-gray-100","shadow-md","rounded-lg","p-6","mb-8"],[1,"text-2xl","font-semibold","text-gray-800","mb-4"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],[1,"text-4xl","font-bold","text-gray-900","mr-2"],[1,"text-lg","font-medium","text-gray-600"],[1,"bg-gradient-to-r","from-blue-500","to-sky-500","hover:from-blue-600","hover:to-sky-600","text-white","py-2","px-6","rounded-md","transition","duration-300","transform","hover:scale-105"],[1,"bg-white","shadow-lg","rounded-lg","overflow-hidden"],[1,"bg-gradient-to-b","from-sky-500","to-blue-500","px-6","py-4"],[1,"text-lg","font-semibold","text-white"],[1,"px-6","py-4"],[1,"overflow-x-auto"],[1,"w-full","border-collapse"],[1,"bg-gray-200","text-sm","text-gray-700","font-semibold","uppercase","border-b"],[1,"px-4","py-3"],[4,"ngIf"],["class","hover:bg-gray-100 transition duration-300",4,"ngFor","ngForOf"],[1,"hover:bg-gray-100","transition","duration-300"],[1,"px-4","py-3","whitespace-nowrap"],[1,"px-4","py-3",3,"ngClass"],["colspan","3",1,"text-center","py-8","text-gray-600"]],template:function(a,l){a&1&&(t(0,"div",0)(1,"h2",1),o(2,"My Wallet"),i(),t(3,"div",2)(4,"h3",3),o(5,"Wallet Balance"),i(),t(6,"div",4)(7,"div",5)(8,"span",6),o(9),i(),t(10,"span",7),o(11,"INR"),i()(),t(12,"button",8),o(13,"Add Funds"),i()()(),t(14,"div",9)(15,"div",10)(16,"h3",11),o(17,"Payment History"),i()(),t(18,"div",12)(19,"div",13)(20,"table",14)(21,"thead")(22,"tr",15)(23,"th",16),o(24,"Date"),i(),t(25,"th",16),o(26,"Description"),i(),t(27,"th",16),o(28,"Amount"),i()()(),t(29,"tbody"),c(30,Bt,2,1,"ng-container",17)(31,jt,4,0,"tr",17),i()()()()()()),a&2&&(s(9),N("\u20B9",l.currentUserWallet.balance,""),s(21),m("ngIf",l.currentUserWallet.transactions.length>0),s(),m("ngIf",l.currentUserWallet.transactions.length===0))},dependencies:[q,F,E,V]});let e=r;return e})();function qt(e,r){e&1&&(t(0,"div",28),o(1,"Title is required"),i())}function Gt(e,r){e&1&&(t(0,"div",28),o(1,"Description is required"),i())}function Wt(e,r){if(e&1&&(t(0,"div",18)(1,"h3",29),o(2,"Preview"),i(),p(3,"img",30),i()),e&2){let d=u();s(3),m("src",d.previewURL,j)}}function $t(e,r){e&1&&p(0,"i",31)}var Ge=(()=>{let r=class r{constructor(n,a,l,f){this.formBuilder=n,this.dialogRef=a,this.userService=l,this.toastr=f,this.submitted=!1,this.isLoading=!1,this.previewURL=null}ngOnInit(){this.recordForm=this.formBuilder.group({title:["",w.required],description:["",w.required]})}get formControls(){return this.recordForm.controls}onSubmit(){if(console.log(this.recordForm.value),this.submitted=!0,this.recordForm.invalid||this.fileFormatValidator(this.uploadedFile))return;let n=this.uploadedFile,a=this.recordForm.get("title")?.value,l=this.recordForm.get("description")?.value;console.log("Form Submitted",this.recordForm.value),this.isLoading=!0,this.userService.uploadMedicalRecords(n,a,l).subscribe(f=>{this.isLoading=!1,this.closeDialog()},f=>{this.isLoading=!1,this.toastr.error(f),this.closeDialog()})}closeDialog(){this.dialogRef.close()}onFileChange(n){if(n.target.files.length>0){this.uploadedFile=n.target.files[0];let a=new FileReader;a.onload=()=>{this.previewURL=a.result},a.readAsDataURL(this.uploadedFile)}}fileFormatValidator(n){return!(n&&(console.log(n),!["image/*","application/pdf"].includes(n.type)))}};r.\u0275fac=function(a){return new(a||r)(g(le),g(Te),g(k),g(D))},r.\u0275cmp=v({type:r,selectors:[["app-upload-medical-record"]],standalone:!0,features:[ye],decls:38,vars:5,consts:[[1,"max-w-lg","mx-auto","p-3","bg-white","rounded-lg","overflow-hidden","shadow-md"],[1,"flex","justify-end"],[1,"text-gray-500","hover:text-gray-800","focus:outline-none",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"px-3","py-3","bg-sky-300"],[1,"text-2xl","font-semibold","text-blue-800"],[1,"mt-2","text-sm","text-blue-600"],[1,"px-6","py-4","overflow-y-auto","max-h-96"],[3,"ngSubmit","formGroup"],["for","file-upload",1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],[1,"flex","items-center","justify-center","w-full","bg-blue-100","text-blue-600","rounded-lg","shadow-md"],[1,"w-full","flex","flex-col","items-center","px-4","py-6","bg-white","text-blue-600","rounded-lg","shadow-lg","tracking-wide","uppercase","border","border-blue-400","cursor-pointer","hover:bg-blue-500","hover:text-white"],["fill","currentColor","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20",1,"w-8","h-8"],["d","M9 2a1 1 0 011 1v4a1 1 0 11-2 0V3a1 1 0 011-1zM9 13a1 1 0 011 1v4a1 1 0 11-2 0v-4a1 1 0 011-1zM4 9a1 1 0 011 1h4a1 1 0 110-2H5a1 1 0 01-1 1zM15 9a1 1 0 011 1h4a1 1 0 110-2h-4a1 1 0 011 1z"],[1,"mt-2"],["type","file","id","file-upload","formControlName","file",1,"hidden",3,"change"],[1,"text-xs","mt-1","text-gray-500"],[1,"mt-4"],["for","medical-title",1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],["id","medical-title","formControlName","title","type","text","placeholder","Enter title...",1,"appearance-none","block","w-full","bg-gray-100","text-gray-700","border","rounded","py-2","px-3","mb-3","leading-tight","focus:outline-none","focus:bg-white"],["class","text-red-500 text-xs mt-1",4,"ngIf"],["for","medical-description",1,"block","uppercase","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],["id","medical-description","formControlName","description","placeholder","Enter description...",1,"appearance-none","block","w-full","bg-gray-100","text-gray-700","border","rounded","py-2","px-3","mb-3","leading-tight","focus:outline-none","focus:bg-white"],["class","mt-4",4,"ngIf"],[1,"mt-6"],["type","submit",1,"w-full","bg-sky-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline"],["class","fas fa-spinner fa-spin mr-1",4,"ngIf"],[1,"text-red-500","text-xs","mt-1"],[1,"text-lg","font-semibold"],["alt","Uploaded Record",1,"mt-2","max-w-xs","h-auto",3,"src"],[1,"fas","fa-spinner","fa-spin","mr-1"]],template:function(a,l){a&1&&(t(0,"div",0)(1,"div",1)(2,"button",2),x("click",function(){return l.closeDialog()}),y(),t(3,"svg",3),p(4,"path",4),i()()(),S(),t(5,"div",5)(6,"h2",6),o(7,"Upload Medical Records"),i(),t(8,"p",7),o(9,"Upload your medical records here for better consultation."),i()(),t(10,"div",8)(11,"form",9),x("ngSubmit",function(){return l.onSubmit()}),t(12,"label",10),o(13," Choose File "),i(),t(14,"div",11)(15,"label",12),y(),t(16,"svg",13),p(17,"path",14),i(),S(),t(18,"span",15),o(19,"Select a file"),i(),t(20,"input",16),x("change",function(P){return l.onFileChange(P)}),i()()(),t(21,"p",17),o(22,"Supported formats: PDF, JPG, PNG (Max 5mb each)"),i(),t(23,"div",18)(24,"label",19),o(25," Title "),i(),p(26,"input",20),c(27,qt,2,0,"div",21),i(),t(28,"div",18)(29,"label",22),o(30," Description "),i(),p(31,"textarea",23),c(32,Gt,2,0,"div",21),i(),c(33,Wt,4,1,"div",24),t(34,"div",25)(35,"button",26),c(36,$t,1,0,"i",27),o(37," Upload Record "),i()()()()()),a&2&&(s(11),m("formGroup",l.recordForm),s(16),m("ngIf",l.submitted&&l.formControls.title.errors),s(5),m("ngIf",l.submitted&&l.formControls.description.errors),s(),m("ngIf",l.previewURL),s(3),m("ngIf",l.isLoading))},dependencies:[X,E,Z,ne,ee,te,ie,re,oe,ae]});let e=r;return e})();var Yt=(e,r)=>({"bg-sky-500 text-white":e,"bg-gray-200 text-gray-800 ":r}),Zt=(e,r)=>({"bg-sky-500 text-white":e,"bg-gray-200 text-gray-800":r});function Jt(e,r){if(e&1){let d=I();t(0,"button",9),x("click",function(){b(d);let a=u();return _(a.openUploadModal())}),o(1,"Add Medical Record"),i()}}function Kt(e,r){if(e&1){let d=I();t(0,"tr")(1,"td",26)(2,"div",27)(3,"span"),o(4),i()()(),t(5,"td",28),p(6,"p-image",29),i(),t(7,"td",28),o(8),C(9,"date"),i(),t(10,"td",28),o(11),i(),t(12,"td",30)(13,"div",31)(14,"button",32),o(15),i()()(),t(16,"td")(17,"div",33)(18,"button",34),x("click",function(){let a=b(d).$implicit,l=u(3);return _(l.deleteRecord(a._id))}),p(19,"i",35),i()()()()}if(e&2){let d=r.$implicit;s(4),h(d.mId),s(2),m("src",d.fileUrl)("preview",!0),s(2),h(M(9,6,d.createdAt)),s(3),h(d.title),s(4),N(" ",d.description," ")}}function Qt(e,r){if(e&1&&(T(0),t(1,"table",12)(2,"thead",13)(3,"tr")(4,"th",14)(5,"div",15)(6,"button",16)(7,"span"),o(8,"M-ID"),i(),y(),t(9,"svg",17),p(10,"path",18)(11,"path",19)(12,"path",20),i()()()(),S(),t(13,"th",21),o(14," Preview "),i(),t(15,"th",21),o(16," Date "),i(),t(17,"th",21),o(18," Title "),i(),t(19,"th",21),o(20," Description "),i(),t(21,"th",21),o(22," Actions "),i(),t(23,"th",22)(24,"span",23),o(25,"Actions"),i()()()(),t(26,"tbody",24),c(27,Kt,20,8,"tr",25),i()(),U()),e&2){let d=u(2);s(27),m("ngForOf",d.medicalRecords)}}function Xt(e,r){if(e&1&&(t(0,"div",8)(1,"div",10),c(2,Qt,28,1,"ng-container",11),i()()),e&2){let d=u(),n=R(14);s(2),m("ngIf",d.medicalRecords.length>0)("ngIfElse",n)}}function ei(e,r){if(e&1&&(t(0,"tr")(1,"td",26)(2,"div",27)(3,"span"),o(4),i()()(),t(5,"td",28),o(6),C(7,"date"),i(),t(8,"td",28),p(9,"p-image",37),i(),t(10,"td",38),p(11,"p-image",39),t(12,"span"),o(13),i()(),t(14,"td",28),o(15),i(),t(16,"td",40)(17,"div",33)(18,"button",41),p(19,"i",35),i()()()()),e&2){let d=u(),n=d.$implicit,a=d.index;s(4),h(a),s(2),h(Q(7,9,n.date,"mm/dd/yy")),s(3),m("src",n.prescription.file)("preview",!0),s(2),m("src",n.doctor.profilePic)("preview",!0),s(2),z("",n.doctor.firstName," ",n.doctor.lastName,""),s(2),h(n.prescription.title)}}function ti(e,r){if(e&1&&(T(0),c(1,ei,20,12,"tr",36),U()),e&2){let d=r.$implicit;s(),m("ngIf",d.prescription)}}function ii(e,r){e&1&&(t(0,"tr")(1,"td",42),o(2,"No prescriptions are available"),i()())}function ni(e,r){if(e&1&&(t(0,"div",8)(1,"div",10)(2,"table",12)(3,"thead",13)(4,"tr")(5,"th",14)(6,"div",15)(7,"button",16)(8,"span"),o(9,"S.No"),i(),y(),t(10,"svg",17),p(11,"path",18)(12,"path",19)(13,"path",20),i()()()(),S(),t(14,"th",21),o(15," Date "),i(),t(16,"th",21),o(17," Preview "),i(),t(18,"th",21),o(19," Doctor "),i(),t(20,"th",21),o(21," Title "),i(),t(22,"th",21),o(23," Actions "),i()()(),t(24,"tbody",24),c(25,ti,2,1,"ng-container",25)(26,ii,3,0,"tr",36),i()()()()),e&2){let d=u();s(25),m("ngForOf",d.appoinmentDetails),s(),m("ngIf",d.appoinmentDetails.length===0)}}function ri(e,r){if(e&1){let d=I();t(0,"div",43),y(),t(1,"svg",44),p(2,"path",45),i(),S(),t(3,"p",46),o(4,"No medical records found!"),i(),t(5,"p",47),o(6,"Please add new records to see them here."),i(),t(7,"button",48),x("click",function(){b(d);let a=u();return _(a.openUploadModal())}),o(8,"Add Record"),i()()}}var We=(()=>{let r=class r{constructor(n,a,l){this.dialog=n,this.userService=a,this.toastr=l,this.medicalRecords=[],this.appoinmentDetails=[],this.section="MedicalRecords"}ngOnInit(){this.fetchMedicalRecords(),this.fetchPrescritptions()}openUploadModal(){this.dialog.open(Ge,{}).afterClosed().subscribe(a=>{console.log("The dialog was closed"),this.fetchMedicalRecords()})}fetchMedicalRecords(){this.userService.getMedicalRecords().subscribe({next:n=>{console.log("medicalRecords",this.medicalRecords),this.medicalRecords=n.data},error:n=>{console.log(n)}})}deleteRecord(n){this.userService.deleteMedicalRecord(n).subscribe({next:()=>{this.toastr.success("SuccessFully deleted");let a=this.medicalRecords.findIndex(l=>l._id.toString()===n);this.medicalRecords.splice(a,1)},error:a=>{console.error("Error deleting record:",a),this.toastr.error(a)}})}changeSection(n){this.section=n}fetchPrescritptions(){this.userService.getPrescritpionsOfUser().subscribe({next:n=>{console.log("getPrescritpionsOfUser",n),this.appoinmentDetails=n.data},error:n=>{console.log(n)}})}};r.\u0275fac=function(a){return new(a||r)(g(Ue),g(k),g(D))},r.\u0275cmp=v({type:r,selectors:[["app-medical-record"]],decls:15,vars:10,consts:[["noRecordsTemplate",""],[1,"container","mx-auto","p-8"],[1,"flex","flex-col","lg:flex-row","justify-between","items-center","mb-6"],[1,"text-3xl","sm:text-lg","font-semibold"],[1,"space-x-4","flex-shrink-0"],[1,"px-4","py-2","text-sm","rounded-md","focus:outline-none",3,"click","ngClass"],[1,"flex","flex-col","sm:flex-row","justify-between","items-center","mb-6"],[1,"px-4","py-2","text-sm","text-white","bg-sky-500","rounded-md","focus:outline-none","hover:bg-sky-600"],[1,"overflow-x-auto"],[1,"px-4","py-2","text-sm","text-white","bg-sky-500","rounded-md","focus:outline-none","hover:bg-sky-600",3,"click"],[1,"w-full","min-w-[500px]","rounded-lg","border-1","border-gray-700"],[4,"ngIf","ngIfElse"],[1,"min-w-full","divide-y","border-1","rounded-lg","border-gray-700","divide-gray-200","dark:divide-gray-700"],[1,"bg-gray-50","dark:bg-gray-300"],["scope","col",1,"py-3.5","px-4","text-sm","font-normal","text-left","rtl:text-right","text-gray-900","dark:text-gray-900"],[1,"flex","items-center","gap-x-3"],[1,"flex","items-center","gap-x-2"],["viewBox","0 0 10 11","fill","none","xmlns","http://www.w3.org/2000/svg",1,"h-3"],["d","M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z","fill","currentColor","stroke","currentColor","stroke-width","0.1"],["d","M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z","fill","currentColor","stroke","currentColor","stroke-width","0.1"],["d","M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z","fill","currentColor","stroke","currentColor","stroke-width","0.3"],["scope","col",1,"px-4","py-3.5","text-sm","font-normal","text-left","rtl:text-right","text-gray-900","dark:text-gray-900"],["scope","col",1,"relative","py-3.5","px-4"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200","dark:divide-gray-700","dark:bg-white"],[4,"ngFor","ngForOf"],[1,"px-4","py-4","text-sm","font-medium","text-gray-700","dark:text-gray-700","whitespace-nowrap"],[1,"inline-flex","items-center","gap-x-3"],[1,"px-4","py-4","text-sm","text-gray-700","dark:text-gray-700","whitespace-nowrap"],["alt","Image","width","50",3,"src","preview"],[1,"px-4","py-4","text-sm","whitespace-nowrap"],[1,"flex","items-center","gap-x-6"],[1,"text-gray-500","transition-colors","duration-200","dark:hover:text-indigo-500","dark:text-gray-700","hover:text-indigo-500","focus:outline-none"],[1,"flex","justify-center","items-center"],[1,"focus:outline-none",3,"click"],[1,"far","fa-trash-alt","text-red-500","hover:text-red-700","text-xl"],[4,"ngIf"],["alt","Prescription Image","width","50",3,"src","preview"],[1,"px-4","py-4","text-sm","text-gray-700","dark:text-gray-700","flex","items-center"],["alt","Doctor Image","width","50",1,"rounded-full","mr-2",3,"src","preview"],[1,"px-4","py-4"],[1,"focus:outline-none"],["colspan","6",1,"px-4","text-center","py-4","text-sm","text-gray-700","dark:text-gray-700","whitespace-nowrap"],[1,"flex","flex-col","items-center","justify-center","h-64","bg-gradient-to-r","from-blue-100","to-blue-200","shadow-lg","rounded-lg","p-6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-12","w-12","text-blue-500","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-xl","font-bold","text-gray-800"],[1,"mt-2","text-gray-700"],[1,"mt-4","px-4","py-2","bg-blue-600","text-white","rounded-full","hover:bg-blue-700","focus:outline-none",3,"click"]],template:function(a,l){if(a&1){let f=I();t(0,"div",1)(1,"div",2)(2,"h1",3),o(3,"Medical Records"),i(),t(4,"div",4)(5,"button",5),x("click",function(){return b(f),_(l.changeSection("MedicalRecords"))}),o(6,"Medical Records"),i(),t(7,"button",5),x("click",function(){return b(f),_(l.changeSection("Prescriptions"))}),o(8,"Prescriptions"),i()()(),t(9,"div",6),c(10,Jt,2,0,"button",7),i(),c(11,Xt,3,2,"div",8)(12,ni,27,2,"div",8),i(),c(13,ri,9,0,"ng-template",null,0,O)}a&2&&(s(5),m("ngClass",Y(4,Yt,l.section==="MedicalRecords",l.section!=="MedicalRecords")),s(2),m("ngClass",Y(7,Zt,l.section==="Prescriptions",l.section!=="Prescriptions")),s(3),ge(l.section==="MedicalRecords"?10:-1),s(),ge(l.section==="MedicalRecords"?11:12))},dependencies:[Re,q,F,E,V]});let e=r;return e})();function oi(e,r){if(e&1&&(T(0),t(1,"div",4),p(2,"img",5),t(3,"div",6)(4,"div",7)(5,"div",8),p(6,"i",9),t(7,"span",10),o(8),i()(),t(9,"div",8),p(10,"i",11),t(11,"span",10),o(12),i()()()()(),U()),e&2){let d=r.$implicit;s(2),m("src",d.media[0].url,j),s(6),h(d.likes.length),s(4),h(d.comments.length)}}function li(e,r){if(e&1&&(t(0,"div",2),c(1,oi,13,3,"ng-container",3),i()),e&2){let d=u();s(),m("ngForOf",d.savedPosts)}}function ai(e,r){e&1&&(t(0,"div",12),y(),t(1,"svg",13),p(2,"path",14),i(),S(),t(3,"p",15),o(4,"No saved posts found"),i(),t(5,"p",16),o(6,"Start saving posts to see them here."),i(),t(7,"button",17),o(8,"Browse Posts"),i()())}var $e=(()=>{let r=class r{constructor(n,a){this.feedService=n,this.toastr=a,this.savedPosts=[]}ngOnInit(){this.loadSavedPosts()}loadSavedPosts(){this.feedService.getSavedPosts().subscribe({next:n=>{console.log(n),this.savedPosts=n.data},error:n=>{this.toastr.error(n)}})}};r.\u0275fac=function(a){return new(a||r)(g(De),g(D))},r.\u0275cmp=v({type:r,selectors:[["app-saved-post"]],decls:3,vars:2,consts:[["noPostsTemplate",""],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",4,"ngIf","ngIfElse"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","shadow-md","cursor-pointer"],["alt","Post Image",1,"w-full","h-56","object-cover","rounded-t-lg",3,"src"],[1,"p-2"],[1,"flex","justify-between","items-center","mt-2"],[1,"flex","items-center"],[1,"fa-solid","fa-heart","mr-2",2,"color","#dc1818"],[1,"text-gray-700"],[1,"fa-solid","fa-comment","mr-2",2,"color","#000000"],[1,"flex","flex-col","items-center","justify-center","h-64","bg-gray-100","dark:bg-gray-900","shadow-lg","rounded-lg","p-6"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-12","w-12","text-gray-400","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-lg","font-semibold","text-gray-800","dark:text-gray-200"],[1,"mt-2","text-gray-600","dark:text-gray-400"],[1,"mt-4","px-4","py-2","bg-blue-600","text-white","rounded-full","hover:bg-blue-700","focus:outline-none"]],template:function(a,l){if(a&1&&c(0,li,2,1,"div",1)(1,ai,9,0,"ng-template",null,0,O),a&2){let f=R(2);m("ngIf",l.savedPosts.length>0)("ngIfElse",f)}},dependencies:[F,E]});let e=r;return e})();var Ye=[{path:"",component:Ae,children:[{path:"",component:Be},{path:"appoinments",component:je},{path:"interests",component:ze},{path:"wallet",component:qe},{path:"medical-records",component:We},{path:"saved-posts",component:$e},{path:"notifications",data:{expectedRole:"User"},component:Oe}]}];var dn=(()=>{let r=class r{};r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=be({type:r}),r.\u0275inj=ve({imports:[Ne,Ve,pe,ue,xe,X,ae,Z,ce,Z,xe.forChild(Ye)]});let e=r;return e})();export{dn as UserProfileModule};
