import{a as h,b as L}from"./chunk-V37LX6LJ.js";import{Eb as g,Fb as v,Gb as y,Na as d,Oa as c,Pb as C,Qb as w,Rb as I,Sa as u,Yb as D,ia as l,lb as m,mb as r,pd as b,rd as E,sc as M,ta as s,ua as p,ub as f}from"./chunk-PWWHKO4X.js";h.register(...L);var _=h;var B=(()=>{class n{platformId;el;zone;type;plugins=[];width;height;responsive=!0;ariaLabel;ariaLabelledBy;get data(){return this._data}set data(e){this._data=e,this.reinit()}get options(){return this._options}set options(e){this._options=e,this.reinit()}onDataSelect=new c;isBrowser=!1;initialized;_data;_options={};chart;constructor(e,i,t){this.platformId=e,this.el=i,this.zone=t}ngAfterViewInit(){this.initChart(),this.initialized=!0}onCanvasClick(e){if(this.chart){let i=this.chart.getElementsAtEventForMode(e,"nearest",{intersect:!0},!1),t=this.chart.getElementsAtEventForMode(e,"dataset",{intersect:!0},!1);i&&i[0]&&t&&this.onDataSelect.emit({originalEvent:e,element:i[0],dataset:t})}}initChart(){if(E(this.platformId)){let e=this.options||{};e.responsive=this.responsive,e.responsive&&(this.height||this.width)&&(e.maintainAspectRatio=!1),this.zone.runOutsideAngular(()=>{this.chart=new _(this.el.nativeElement.children[0].children[0],{type:this.type,data:this.data,options:this.options,plugins:this.plugins})})}}getCanvas(){return this.el.nativeElement.children[0].children[0]}getBase64Image(){return this.chart.toBase64Image()}generateLegend(){if(this.chart)return this.chart.generateLegend()}refresh(){this.chart&&this.chart.update()}reinit(){this.chart&&(this.chart.destroy(),this.initChart())}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)}static \u0275fac=function(i){return new(i||n)(r(u),r(d),r(f))};static \u0275cmp=s({type:n,selectors:[["p-chart"]],hostAttrs:[1,"p-element"],inputs:{type:"type",plugins:"plugins",width:"width",height:"height",responsive:"responsive",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",data:"data",options:"options"},outputs:{onDataSelect:"onDataSelect"},decls:2,vars:8,consts:[[2,"position","relative"],["role","img",3,"click"]],template:function(i,t){i&1&&(C(0,"div",0)(1,"canvas",1),D("click",function(F){return t.onCanvasClick(F)}),w()()),i&2&&(y("width",t.responsive&&!t.width?null:t.width)("height",t.responsive&&!t.height?null:t.height),m(),g("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledBy)("width",t.responsive&&!t.width?null:t.width)("height",t.responsive&&!t.height?null:t.height))},encapsulation:2,changeDetection:0})}return n})(),A=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=p({type:n});static \u0275inj=l({imports:[b]})}return n})();var K=(()=>{let a=class a{constructor(){}ngOnInit(){}};a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=s({type:a,selectors:[["app-line-chart"]],inputs:{data:"data",options:"options"},standalone:!0,features:[M],decls:1,vars:2,consts:[["type","line",3,"data","options"]],template:function(t,o){t&1&&I(0,"p-chart",0),t&2&&v("data",o.data)("options",o.options)},dependencies:[A,B]});let n=a;return n})();export{B as a,A as b,K as c};
