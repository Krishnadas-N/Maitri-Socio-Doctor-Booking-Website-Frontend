import{b as y}from"./chunk-RZLTULQY.js";import{Bb as m,Ca as f,Ua as g,na as u,tb as o,yc as w}from"./chunk-MMBRV4NV.js";var l=(()=>{let t=class t{constructor(){}execute(s,e){e=e||{};let{id:r=null,async:c=!1,defer:h=!1,crossOrigin:a=null,nonce:d=null,onload:p}=e;if(r&&document.getElementById(r))return!1;let i=document.createElement("script");return i.src=s,r&&(i.id=r),i.async=c,i.defer=h,a&&(i.crossOrigin=a),d&&(i.nonce=d),p&&(i.onload=p),document.head.appendChild(i),!0}};t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u({token:t,factory:t.\u0275fac});let n=t;return n})();var E=(()=>{let t=class t{constructor(s,e,r,c){this.el=s,this.jwtHelper=e,this.ngZone=r,this.scriptService=c,this.clientId="",this.type="standard",this.size="medium",this.text="signin_with",this.shape="rectangular",this.theme="outline",this.logo_alignment="left",this.width=0,this.locale="",this.displayOneTapDialog=!0,this.initialize=()=>{window.google.accounts.id.initialize({client_id:this.clientId,callback:this.handleCredentialResponse,context:"use",ux_mode:"popup",scope:"profile email"}),this.renderButton()},this.renderButton=()=>{window.google.accounts.id.renderButton(this.el.nativeElement,{locale:this.locale,logo_alignment:this.logo_alignment,shape:this.shape,size:this.size,text:this.text,theme:this.theme,type:this.type,width:this.width}),this.displayOneTapDialog&&window.google.accounts.id.prompt()},this.handleCredentialResponse=h=>{this.ngZone.run(()=>{let a=this.jwtHelper.decodeToken(h.credential);this.callback(a)})}}ngOnInit(){if(!this.clientId)throw new Error("Google ClientId not provided.");if(!this.callback)throw new Error("Callback function not provided.");if(this.type==="standard"&&["square","circle"].includes(this.shape))throw new Error("Invalid shape for standard type button. Valid shapes: rectangular, pill.");if(this.type==="icon"&&["rectangular","pill"].includes(this.shape))throw new Error("Invalid shape for icon type button. Valid shapes: square, circle.");if(this.width&&(this.width<200||this.width>400))throw new Error("Invalid button width. Valid width: min 200 and max 400.");this.scriptService.execute("https://accounts.google.com/gsi/client",{id:"googleGsi",async:!0,onload:this.initialize})||this.renderButton()}};t.\u0275fac=function(e){return new(e||t)(o(g),o(y),o(m),o(l))},t.\u0275dir=f({type:t,selectors:[["google-login-button"]],inputs:{clientId:"clientId",type:"type",size:"size",text:"text",shape:"shape",theme:"theme",logo_alignment:"logo_alignment",width:"width",locale:"locale",displayOneTapDialog:"displayOneTapDialog",callback:"callback"},standalone:!0,features:[w([l])]});let n=t;return n})();export{E as a};
