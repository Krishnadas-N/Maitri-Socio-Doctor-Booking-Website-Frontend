import{a as W,b as I}from"./chunk-HDR2B3LN.js";import{a as N}from"./chunk-ON4HZDHW.js";import{a as E}from"./chunk-LBT3GFMF.js";import"./chunk-UAFMR3GN.js";import"./chunk-6CS5MZYZ.js";import"./chunk-7B4WEPGY.js";import"./chunk-Y6YHTU6Y.js";import{Ac as S,Fc as D,Gc as w,Ib as g,Kb as m,Ub as a,Vb as n,Wb as v,Xb as y,Yb as C,bc as P,dc as _,hd as T,id as L,jd as A,nc as i,oc as p,pc as u,qb as s,qd as c,rb as f,sd as F,xc as b,ya as x}from"./chunk-7CRQF3FF.js";var k=(r,o)=>({"text-green-500":r,"text-red-500":o});function z(r,o){if(r&1&&(a(0,"tr",26)(1,"td",27),i(2),D(3,"date"),n(),a(4,"td",22),i(5),n(),a(6,"td",28)(7,"span"),i(8),n(),i(9),n()()),r&2){let d=o.$implicit;s(2),p(w(3,5,d.date)),s(3),p(d.description),s(),m("ngClass",S(7,k,d.type==="credit",d.type==="debit")),s(2),p(d.type==="credit"?"+":"-"),s(),u("\u20B9",d.amount," ")}}function M(r,o){if(r&1&&(y(0),g(1,z,10,10,"tr",25),C()),r&2){let d=_();s(),m("ngForOf",d.currentDoctorWallet.transactions)}}function B(r,o){r&1&&(a(0,"tr")(1,"td",29)(2,"p"),i(3,"No transactions available."),n()()())}var J=(()=>{let o=class o{constructor(t){this.adminService=t,this.currentPage=1,this.totalPages=0,this.totalCount=0,this.pageSize=6,this.dataLC=[],this.viewLC=[700,300],this.animationsLC=!0,this.showGridLinesLC=!0,this.legendLC=!0,this.legendTitleLC="Transactions",this.roundDomainsLC=!0,this.xAxisLC=!0,this.yAxisLC=!0}ngOnInit(){this.loadDoctorWallet(),this.loadTransactionDetails()}loadTransactionDetails(){this.adminService.getAdminTransactionDetails().subscribe({next:t=>{console.log(t),this.transactionDetailsOfWeek=t.data,this.updateChartData()},error:t=>{console.log(t)}})}loadDoctorWallet(){this.adminService.getAdminWalletDetails(this.currentPage,this.pageSize).subscribe({next:t=>{this.currentDoctorWallet=t.data.wallet,this.currentPage=t.data.page,this.pageSize=t.data.pageSize,this.totalCount=t.data.totalCount,this.totalPages=t.data.totalPages},error:t=>{console.log(t)}})}currencyFormatterLC(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"INR"}).format(t)}dateFormatterLC(t){let e=new c("en-US").transform(t);return e||t}onPreviousPage(){this.currentPage>1&&this.currentPage--}onPageChange(t){this.currentPage=t}onNextPage(){this.currentPage<this.totalPages&&this.currentPage++}updateChartData(){if(this.transactionDetailsOfWeek&&this.transactionDetailsOfWeek.length>0){let t=this.transactionDetailsOfWeek.map(l=>({name:"Transactions",series:[{name:l.startDate,value:l.credit},{name:l.startDate,value:l.debit}]}));this.dataLC=t}}};o.\u0275fac=function(l){return new(l||o)(f(E))},o.\u0275cmp=x({type:o,selectors:[["app-admin-transaction"]],standalone:!0,features:[b],decls:39,vars:18,consts:[[1,"flex-col","gap-2"],[1,"grid","lg:grid-cols-3","grid-cols-1"],[1,"p-10","col-span-1"],[1,"text-3xl","font-bold","mb-6"],[1,"bg-gray-100","shadow-md","rounded-lg","p-6","mb-8"],[1,"text-2xl","font-semibold","text-gray-800","mb-2"],[1,"flex","flex-col","items-start","gap-4"],[1,"flex","items-start"],[1,"text-4xl","font-bold","text-gray-900","mr-2"],[1,"text-lg","font-medium","text-gray-600"],[1,"bg-gradient-to-r","from-gray-600","to-gray-900","hover:from-gray-600","hover:to-gray-900","text-white","py-2","px-6","rounded-md","transition","duration-300","transform","hover:scale-105"],[1,"lg:col-span-2","col-span-1","p-6","overflow-y-hidden","lg:overflow-x-hidden","overflow-x-scroll"],[3,"results","view","animations","showGridLines","legend","legendTitle","roundDomains","xAxis","yAxis","yAxisTickFormatting","xAxisTickFormatting"],[1,"p-5"],[1,"container","mx-auto","py-6"],[1,"bg-white","shadow-lg","rounded-lg","overflow-hidden"],[1,"bg-gradient-to-b","from-gray-700","to-gray-900","px-6","py-4","custom-shadow"],[1,"text-lg","font-semibold","text-white"],[1,"px-6","py-4"],[1,"overflow-x-auto"],[1,"w-full","border-collapse","mb-3"],[1,"bg-gray-200","text-sm","text-gray-700","font-semibold","uppercase","border-b"],[1,"px-4","py-3"],[4,"ngIf"],[3,"prevPage","nextPage","goToPage","currentPage","totalPages","totalCount","pageSize"],["class","hover:bg-gray-100 text-center transition duration-300",4,"ngFor","ngForOf"],[1,"hover:bg-gray-100","text-center","transition","duration-300"],[1,"px-4","py-3","whitespace-nowrap"],[1,"px-4","py-3",3,"ngClass"],["colspan","3",1,"text-center","py-8","text-gray-600"]],template:function(l,e){l&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),i(4,"My Wallet"),n(),a(5,"div",4)(6,"h3",5),i(7,"Wallet Balance"),n(),a(8,"div",6)(9,"div",7)(10,"span",8),i(11),n(),a(12,"span",9),i(13,"INR"),n()(),a(14,"button",10),i(15,"Withdraw Funds"),n()()()(),a(16,"div",11),v(17,"ngx-charts-line-chart",12),n()(),a(18,"div",13)(19,"div",14)(20,"div",15)(21,"div",16)(22,"h3",17),i(23,"Payment History"),n()(),a(24,"div",18)(25,"div",19)(26,"table",20)(27,"thead")(28,"tr",21)(29,"th",22),i(30,"Date"),n(),a(31,"th",22),i(32,"Description"),n(),a(33,"th",22),i(34,"Amount"),n()()(),a(35,"tbody"),g(36,M,2,1,"ng-container",23)(37,B,4,0,"tr",23),n()(),a(38,"app-admin-pagination",24),P("prevPage",function(){return e.onPreviousPage()})("nextPage",function(){return e.onNextPage()})("goToPage",function(O){return e.onPageChange(O)}),n()()()()()()()),l&2&&(s(11),u("\u20B9",e.currentDoctorWallet.balance,""),s(6),m("results",e.dataLC)("view",e.viewLC)("animations",e.animationsLC)("showGridLines",e.showGridLinesLC)("legend",e.legendLC)("legendTitle",e.legendTitleLC)("roundDomains",e.roundDomainsLC)("xAxis",!0)("yAxis",!0)("yAxisTickFormatting",e.currencyFormatterLC)("xAxisTickFormatting",e.dateFormatterLC),s(19),m("ngIf",e.currentDoctorWallet.transactions.length>0),s(),m("ngIf",e.currentDoctorWallet.transactions.length===0),s(),m("currentPage",e.currentPage)("totalPages",e.totalPages)("totalCount",e.totalCount)("pageSize",e.pageSize))},dependencies:[F,T,L,A,c,I,W,N],styles:[".custom-shadow[_ngcontent-%COMP%]{box-shadow:0 4px 6px #0000001a,0 10px 20px #0003}"]});let r=o;return r})();export{J as AdminTransactionComponent};
