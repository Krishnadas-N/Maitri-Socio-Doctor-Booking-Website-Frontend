import{a as z}from"./chunk-3RJVMK53.js";import{a as N}from"./chunk-G5FRVDIH.js";import"./chunk-AA2U36RO.js";import"./chunk-PI3LJFPN.js";import"./chunk-66G5UFEZ.js";import"./chunk-NJHSAT6J.js";import"./chunk-4XTAZTIE.js";import"./chunk-EO67VZ56.js";import"./chunk-U4JTO2HX.js";import{a as M}from"./chunk-TFG3IBEJ.js";import"./chunk-63APZDV3.js";import"./chunk-LFVSKKQO.js";import"./chunk-SXFKYE6F.js";import"./chunk-XVPSVN7Z.js";import"./chunk-UMSWC4GJ.js";import"./chunk-FEXZKP3R.js";import"./chunk-TG65SF6R.js";import{a as A}from"./chunk-KTKKQ74Q.js";import{a as B}from"./chunk-35SNKNNU.js";import{a as V}from"./chunk-F3MSB2UV.js";import"./chunk-WAWZTAIB.js";import"./chunk-7B4WEPGY.js";import{n as R}from"./chunk-UC2OFU5X.js";import{c as O,d as P}from"./chunk-ONIKTDMA.js";import"./chunk-IWUKBY46.js";import"./chunk-7ZKIOEOA.js";import"./chunk-Y5BMXVS7.js";import{Db as p,Dc as F,Ea as h,Fa as b,Fb as s,Pb as i,Qb as r,Rb as x,Sa as k,Sb as u,Tb as f,Vb as C,Yb as y,_b as m,fb as S,fd as L,gd as U,hc as D,ic as o,jc as v,kc as I,lb as d,mb as g,pd as j,rd as H,sc as E,ta as w,tc as T}from"./chunk-PWWHKO4X.js";import"./chunk-4LMIJWLY.js";var K=()=>[1,2,3];function Q(n,a){if(n&1){let c=C();u(0),i(1,"div",16)(2,"div",17)(3,"div",18),x(4,"img",19),i(5,"div",20)(6,"h3",21),o(7),r(),i(8,"div",22)(9,"span",23),o(10),r()()()()(),i(11,"div",24)(12,"div",25)(13,"button",26),o(14," View profile "),r(),i(15,"button",27),o(16," Book appointment "),r()(),i(17,"div",28)(18,"button",29),y("click",function(){h(c);let t=m().index,l=m(2);return b(l.previousDoctor(t))}),o(19,"Previous"),r(),i(20,"button",29),y("click",function(){h(c);let t=m().index,l=m(2);return b(l.nextDoctor(t))}),o(21,"Next"),r()()()(),f()}if(n&2){let c=m(),e=c.$implicit,t=c.index,l=m(2);d(4),s("src",e.doctors[l.currentDoctorIndex[t]].profilePic,S),d(3),v(e.doctors[l.currentDoctorIndex[t]].fullName),d(3),v(e.category),d(3),s("routerLink","/get-doctor/"+e.doctors[l.currentDoctorIndex[t]]._id),d(2),s("routerLink","/book-appoinment/"+e.doctors[l.currentDoctorIndex[t]]._id)}}function W(n,a){if(n&1&&(u(0),i(1,"div",9)(2,"div",10)(3,"h3",11),o(4),r()(),i(5,"div",12)(6,"p",13),o(7),r()(),i(8,"div",14),p(9,Q,22,5,"ng-container",15),r()(),f()),n&2){let c=a.$implicit,e=a.index,t=m(2);d(4),v(c.category),d(3),I("Explore doctors in the ",c.category," category."),d(2),s("ngIf",t.currentDoctorIndex[e]!==void 0)}}function X(n,a){if(n&1&&(u(0),i(1,"div",7),p(2,W,10,3,"ng-container",8),r(),f()),n&2){let c=m();d(2),s("ngForOf",c.CategoriesData)}}function Y(n,a){n&1&&(i(0,"div")(1,"div",30)(2,"div",10)(3,"h3",11),o(4,"Loading..."),r()(),i(5,"div",12)(6,"p",13),o(7,"Loading..."),r()(),i(8,"div",14)(9,"div",16)(10,"div",17)(11,"div",18),x(12,"div",31),i(13,"div",20)(14,"h3",21),o(15,"Loading..."),r(),i(16,"div",22)(17,"span",23),o(18,"Loading..."),r()()()()(),i(19,"div",24)(20,"div",25)(21,"button",32),o(22,"Loading..."),r(),i(23,"button",33),o(24,"Loading..."),r()()()()()()())}function Z(n,a){n&1&&(i(0,"div",7),p(1,Y,25,0,"div",8),r()),n&2&&(d(),s("ngForOf",T(1,K)))}function ee(n,a){if(n&1&&(i(0,"div",34),x(1,"post-component",35),r()),n&2){let c=a.$implicit,e=m();d(),s("postData",c)("userType",e.userType)}}var fe=(()=>{let a=class a{constructor(e,t,l,_,$,q,G,J){this.FeedService=e,this.store=t,this.userService=l,this.commonService=_,this.tokenService=$,this.router=q,this.toastr=G,this.platformId=J,this.posts=[],this.userType="User",this.CategoriesData=[],this.loading=!0,this.currentDoctorIndex=[]}ngOnInit(){H(this.platformId)&&(this.tokenService.isAuthenticated()||this.router.navigate(["login"]),this.loadDoctorsByCategories(),this.loadAllPosts())}initializeDoctorIndices(){this.CategoriesData.forEach((e,t)=>{this.currentDoctorIndex[t]=0})}loadDoctorsByCategories(){this.userService.getDoctorsByCategory().subscribe({next:e=>{console.log("Response",e),this.CategoriesData=e.data,this.initializeDoctorIndices(),this.loading=!1},error:e=>{console.log(e)}})}loadAllPosts(){this.FeedService.getAllPosts().subscribe({next:e=>{this.posts=e.data,console.log("post from user home ",this.posts)},error:e=>{this.toastr.error(e)}})}nextDoctor(e){let t=this.CategoriesData[e];this.currentDoctorIndex[e]=(this.currentDoctorIndex[e]+1)%t.doctors.length}previousDoctor(e){let t=this.CategoriesData[e];this.currentDoctorIndex[e]=(this.currentDoctorIndex[e]-1+t.doctors.length)%t.doctors.length}};a.\u0275fac=function(t){return new(t||a)(g(M),g(R),g(V),g(z),g(A),g(O),g(B),g(k))},a.\u0275cmp=w({type:a,selectors:[["app-User-Home"]],standalone:!0,features:[E],decls:10,vars:3,consts:[["loadingSkeleton",""],[1,"container","mx-auto","flex","flex-col","md:flex-row","mb-4"],[1,"w-full","md:w-1/4","md:order-2","justify-center","p-4","mb-4","md:mb-0"],[1,"text-3xl","font-bold","text-white","dark:text-gray-800","mb-8"],[4,"ngIf","ngIfElse"],[1,"w-full","md:w-3/4","md:mr-4","p-4"],["class","mt-2",4,"ngFor","ngForOf"],[1,"grid","grid-cols-2","gap-6","md:grid-cols-1","lg:grid-cols-1","xl:grid-cols-1","overflow-auto"],[4,"ngFor","ngForOf"],[1,"max-w-xs","mx-auto","bg-gray-900","dark:bg-white","rounded-lg","overflow-hidden","px-2","shadow-lg"],[1,"border-b","px-4","py-2","bg-gray-800","dark:bg-gray-100"],[1,"font-bold","text-lg","text-white","dark:text-gray-800"],[1,"px-4","py-2","bg-gray-800","dark:bg-gray-100"],[1,"text-white","dark:text-gray-700"],[1,"relative"],[4,"ngIf"],[1,"max-w-xs","mx-auto","bg-gray-900","dark:bg-white","rounded-lg","overflow-hidden","shadow-lg","relative"],[1,"border-b","px-4"],[1,"text-center","my-2"],["alt","",1,"h-24","w-24","rounded-full","border-2","border-gray-800","dark:border-white","mx-auto","my-2",3,"src"],[1,"py-1"],[1,"font-bold","text-lg","text-white","dark:text-gray-800","mb-1"],[1,"inline-flex","text-white","dark:text-gray-700","items-center","text-sm"],[1,"mr-1"],[1,"px-4","py-2"],[1,"flex","flex-col","gap-2","px-2"],[1,"flex-1","rounded-full","bg-white","dark:bg-gray-800","text-black","dark:text-white","antialiased","font-sm","hover:bg-gray-200","dark:hover:bg-gray-700","px-3","py-1",3,"routerLink"],[1,"flex-1","rounded-full","border-2","border-white","dark:border-gray-700","font-sm","text-white","dark:text-black","px-3","py-1",3,"routerLink"],[1,"flex","justify-between","mt-4"],[1,"btn-nav","text-white","dark:text-gray-800",3,"click"],[1,"max-w-xs","mx-auto","bg-gray-900","dark:bg-white","rounded-lg","overflow-hidden","px-2","shadow-lg","animate-pulse"],[1,"h-24","w-24","rounded-full","border-2","border-gray-800","dark:border-white","mx-auto","my-2","animate-pulse"],[1,"flex-1","rounded-full","bg-white","dark:bg-gray-800","text-black","dark:text-white","antialiased","font-sm","hover:bg-gray-200","dark:hover:bg-gray-700","px-3","py-1"],[1,"flex-1","rounded-full","border-2","border-white","dark:border-gray-700","font-sm","text-white","dark:text-black","px-3","py-1"],[1,"mt-2"],[3,"postData","userType"]],template:function(t,l){if(t&1&&(i(0,"div",1)(1,"div",2)(2,"h2",3),o(3," Discover "),r(),p(4,X,3,1,"ng-container",4)(5,Z,2,2,"ng-template",null,0,F),r(),i(7,"div",5)(8,"div"),p(9,ee,2,2,"div",6),r()()()),t&2){let _=D(6);d(4),s("ngIf",l.CategoriesData.length)("ngIfElse",_),d(5),s("ngForOf",l.posts)}},dependencies:[j,L,U,P,N]});let n=a;return n})();export{fe as UserHomeComponent};
