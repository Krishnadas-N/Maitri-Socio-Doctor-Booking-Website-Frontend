import{a as i}from"./chunk-OUAMXWST.js";import{a as r}from"./chunk-NKMITRER.js";import{ha as n}from"./chunk-PWWHKO4X.js";var h=(()=>{let o=class o{constructor(){this.URL=r.SOCKET_URL,this.token=null}setToken(t){this.token=t,this.connect()}connect(){this.token?(this.webSocket=new i({url:`${this.URL}/api/notifications`,options:{extraHeaders:{Authorization:`Bearer ${this.token}`}}}),this.webSocket.on("connect_error",t=>{throw console.error("Error connecting to Socket.IO server:",t),new Error("Connection failed")}),this.webSocket.on("connect",()=>{console.log("Connected to Socket.IO server\u{1F60A}\u{1F389}\u{1F31F}\u{1F44D}\u{1F3FD}\u{1F4A1}\u{1F525}\u{1F680}\u{1F388}\u{1F38A}\u{1F44F}\u{1F3FC}\u{1F64C}\u{1F3FE}\u{1F44C}\u{1F3FB}\u{1F308}\u{1F33A}\u{1F33B}\u{1F340}\u{1F349}\u{1F355}\u{1F366}\u{1F379}\u{1F3B5}\u{1F3AE}\u{1F3AD}\u{1F4DA}\u{1F58B}\uFE0F\u{1F4F8}\u{1F3A5}\u{1F4F1}\u{1F4BB}\u{1F5A5}\uFE0F\u{1F3A8}\u{1F3C6}\u26BD\u{1F3C0}\u{1F3BE}\u{1F3C8}\u{1F3B1}\u{1F3D3}\u{1F3F8}\u{1F94B}\u{1F3C4}\u200D\u2642\uFE0F\u{1F6B4}\u200D\u2640\uFE0F\u{1F3AC}\u{1F3A4}\u{1F3B8}\u{1F3AD}\u{1F3AA}\u{1F3A1}\u{1F3A2}\u{1F3F0}\u{1F3D6}\uFE0F\u{1F3DD}\uFE0F\u{1F30B}\u{1F5FB}\u{1F305}\u{1F320}\u{1F30C}\u{1F387}\u{1F386}\u{1F391}\u{1F304}\u{1F306}\u{1F308}\u{1F326}\uFE0F\u{1F327}\uFE0F\u{1F328}\uFE0F\u{1F329}\uFE0F\u{1F32A}\uFE0F\u{1F32B}\uFE0F\u{1F32C}\uFE0F\u{1F30A}\u{1F3DE}\uFE0F\u{1F3D5}\uFE0F\u{1F3D6}\uFE0F\u{1F3DC}\uFE0F\u{1F3DD}\uFE0F\u{1F3D4}\uFE0F\u{1F5FB}\u{1F3D8}\uFE0F\u{1F3F0}\u{1F3EF}")})):console.error("Missing JWT token for Socket.IO connection")}addUsers(t){this.webSocket.emit("add users",t)}sendNotification(t){this.webSocket.emit("notify",t)}listenForNotifications(){return this.webSocket.fromEvent("notification")}};o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=n({token:o,factory:o.\u0275fac,providedIn:"root"});let e=o;return e})();export{h as a};
