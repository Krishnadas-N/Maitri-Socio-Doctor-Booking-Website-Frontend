import{a as I,b as A}from"./chunk-YSHB5WJN.js";import{a as E}from"./chunk-WHF4ZX6G.js";import{a as F}from"./chunk-HPB4V32M.js";import"./chunk-26CUB3O6.js";import"./chunk-5BLQ6IMQ.js";import"./chunk-7B4WEPGY.js";import"./chunk-VNHCDGQ4.js";import{Bc as D,Gc as S,Hc as L,Jb as g,Lb as m,Vb as a,Wb as n,Xb as y,Yb as v,Zb as P,cc as C,ec as _,id as w,jd as T,kd as W,oc as i,pc as c,qc as u,rb as l,rd as p,sb as f,yc as b,za as x}from"./chunk-VIIRXEWM.js";var k=(r,o)=>({"text-green-500":r,"text-red-500":o});function O(r,o){if(r&1&&(a(0,"tr",25)(1,"td",26),i(2),S(3,"date"),n(),a(4,"td",21),i(5),n(),a(6,"td",27)(7,"span"),i(8),n(),i(9),n()()),r&2){let d=o.$implicit;l(2),c(L(3,5,d.date)),l(3),c(d.description),l(),m("ngClass",D(7,k,d.type==="credit",d.type==="debit")),l(2),c(d.type==="credit"?"+":"-"),l(),u("\u20B9",d.amount," ")}}function z(r,o){if(r&1&&(v(0),g(1,O,10,10,"tr",24),P()),r&2){let d=_();l(),m("ngForOf",d.currentDoctorWallet.transactions)}}function B(r,o){r&1&&(a(0,"tr")(1,"td",28)(2,"p"),i(3,"No transactions available."),n()()())}var q=(()=>{let o=class o{constructor(t){this.doctorService=t,this.currentPage=1,this.totalPages=0,this.totalCount=0,this.pageSize=6,this.dataLC=[],this.viewLC=[700,300],this.animationsLC=!0,this.showGridLinesLC=!0,this.legendLC=!0,this.legendTitleLC="Transactions",this.roundDomainsLC=!0,this.xAxisLC=!0,this.yAxisLC=!0}ngOnInit(){this.loadDoctorWallet(),this.loadTransactionDetails()}loadTransactionDetails(){this.doctorService.getTransactionDetails().subscribe({next:t=>{console.log(t),this.transactionDetailsOfWeek=t.data,this.updateChartData()},error:t=>{console.log(t)}})}loadDoctorWallet(){this.doctorService.getWalletOfDoctor(this.currentPage,this.pageSize).subscribe({next:t=>{this.currentDoctorWallet=t.data.wallet,this.currentPage=t.data.page,this.pageSize=t.data.pageSize,this.totalCount=t.data.totalCount,this.totalPages=t.data.totalPages}})}currencyFormatterLC(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"INR"}).format(t)}dateFormatterLC(t){let e=new p("en-US").transform(t);return e||t}onPreviousPage(){this.currentPage>1&&this.currentPage--}onPageChange(t){this.currentPage=t}onNextPage(){this.currentPage<this.totalPages&&this.currentPage++}updateChartData(){if(this.transactionDetailsOfWeek&&this.transactionDetailsOfWeek.length>0){let t=this.transactionDetailsOfWeek.map(s=>({name:"Transactions",series:[{name:s.startDate,value:s.credit},{name:s.startDate,value:s.debit}]}));this.dataLC=t}}};o.\u0275fac=function(s){return new(s||o)(f(F))},o.\u0275cmp=x({type:o,selectors:[["app-payment-wallet"]],standalone:!0,features:[b],decls:37,vars:18,consts:[[1,"flex-col","gap-2"],[1,"grid","lg:grid-cols-3","grid-cols-1"],[1,"p-10","col-span-1"],[1,"text-3xl","font-bold","mb-6"],[1,"bg-gray-100","shadow-md","rounded-lg","p-6","mb-8"],[1,"text-2xl","font-semibold","text-gray-800","mb-2"],[1,"flex","flex-col","items-start","gap-4"],[1,"flex","items-start"],[1,"text-4xl","font-bold","text-gray-900","mr-2"],[1,"text-lg","font-medium","text-gray-600"],[1,"lg:col-span-2","col-span-1","p-6","overflow-y-hidden","lg:overflow-x-hidden","overflow-x-scroll"],[3,"results","view","animations","showGridLines","legend","legendTitle","roundDomains","xAxis","yAxis","yAxisTickFormatting","xAxisTickFormatting"],[1,"p-5"],[1,"container","mx-auto","py-6"],[1,"bg-white","shadow-lg","rounded-lg","overflow-hidden"],[1,"bg-gradient-to-b","from-sky-500","to-blue-500","px-6","py-4"],[1,"text-lg","font-semibold","text-white"],[1,"px-6","py-4"],[1,"overflow-x-auto"],[1,"w-full","border-collapse","mb-3"],[1,"bg-gray-200","text-sm","text-gray-700","font-semibold","uppercase","border-b"],[1,"px-4","py-3"],[4,"ngIf"],[3,"prevPage","nextPage","goToPage","currentPage","totalPages","totalCount","pageSize"],["class","hover:bg-gray-100 text-center transition duration-300",4,"ngFor","ngForOf"],[1,"hover:bg-gray-100","text-center","transition","duration-300"],[1,"px-4","py-3","whitespace-nowrap"],[1,"px-4","py-3",3,"ngClass"],["colspan","3",1,"text-center","py-8","text-gray-600"]],template:function(s,e){s&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),i(4,"My Wallet"),n(),a(5,"div",4)(6,"h3",5),i(7,"Wallet Balance"),n(),a(8,"div",6)(9,"div",7)(10,"span",8),i(11),n(),a(12,"span",9),i(13,"INR"),n()()()()(),a(14,"div",10),y(15,"ngx-charts-line-chart",11),n()(),a(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"h3",16),i(21,"Payment History"),n()(),a(22,"div",17)(23,"div",18)(24,"table",19)(25,"thead")(26,"tr",20)(27,"th",21),i(28,"Date"),n(),a(29,"th",21),i(30,"Description"),n(),a(31,"th",21),i(32,"Amount"),n()()(),a(33,"tbody"),g(34,z,2,1,"ng-container",22)(35,B,4,0,"tr",22),n()(),a(36,"app-user-Pagination",23),C("prevPage",function(){return e.onPreviousPage()})("nextPage",function(){return e.onNextPage()})("goToPage",function(N){return e.onPageChange(N)}),n()()()()()()()),s&2&&(l(11),u("\u20B9",e.currentDoctorWallet.balance,""),l(4),m("results",e.dataLC)("view",e.viewLC)("animations",e.animationsLC)("showGridLines",e.showGridLinesLC)("legend",e.legendLC)("legendTitle",e.legendTitleLC)("roundDomains",e.roundDomainsLC)("xAxis",!0)("yAxis",!0)("yAxisTickFormatting",e.currencyFormatterLC)("xAxisTickFormatting",e.dateFormatterLC),l(19),m("ngIf",e.currentDoctorWallet.transactions.length>0),l(),m("ngIf",e.currentDoctorWallet.transactions.length===0),l(),m("currentPage",e.currentPage)("totalPages",e.totalPages)("totalCount",e.totalCount)("pageSize",e.pageSize))},dependencies:[A,w,T,W,p,I,E]});let r=o;return r})();export{q as PaymentWalletComponent};
