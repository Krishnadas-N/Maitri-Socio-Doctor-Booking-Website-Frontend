<div class="max-w-7xl mx-auto py-2 px-2">
  <div class=" rounded-lg shadow-lg p-8">
    <h1 class="text-3xl font-bold text-gray-800 mb-8 text-start">Appointment Details</h1>
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
     
      <div class="bg-white border border-blue-200 rounded-lg p-6">
        <div class="flex justify-center">
          <h3>DoctorDetails</h3>
        </div>
        <div class=" border-gray-200 px-4 py-5 sm:p-0">
          <div class="text-center my-1">
            <img class="h-32 w-32 rounded-full border-4 border-white dark:border-gray-800 mx-auto my-4"
                [src]="appoinmentDetails.doctorDetails.profilePic" alt="">
            <div class="py-2">
                <h3 class="font-bold text-2xl text-gray-800  mb-1">{{appoinmentDetails.doctorDetails.firstName}} {{appoinmentDetails.doctorDetails.lastName}}</h3>
            </div>
        </div>
          <dl class="sm:divide-y sm:divide-gray-200">
              <div class="py-3 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                  <dt class="text-sm font-medium text-gray-500">
                      Email address
                  </dt>
                  <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
                      {{appoinmentDetails.doctorDetails.email}}
                  </dd>
              </div>
              <div class="py-3 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                  <dt class="text-sm font-medium text-gray-500">
                      Phone number
                  </dt>
                  <dd class="mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2">
                    {{appoinmentDetails.doctorDetails.phone}}
                  </dd>
              </div>
              <div class="py-3 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                <dt class="text-sm font-medium text-gray-500">
                    Rating
                </dt>
                <div class="flex items-center">
                    <span class="mr-1">{{ displayRatingStars(appoinmentDetails.doctorReviews) }}</span>
                    <span>{{ appoinmentDetails && appoinmentDetails.doctorReviews?appoinmentDetails.doctorReviews.toFixed(1): '0'}}</span>
                </div>
            </div>
             
          </dl>
          <div class="text-center my-3">
            <a class="text-xs text-indigo-500 italic hover:underline hover:text-indigo-600 font-medium" [routerLink]="'/admin/doctors/'+appoinmentDetails.doctorDetails._id">View Profile</a>
        </div>
      </div>
      </div>
      <div class="bg-white border border-blue-200 rounded-lg p-6">
        <div class="flex justify-center">
          <h3>PatientDetails</h3>
        </div>
        <div class="py-3 border-b-2 border-black">
          <div class="photo-wrapper p-2">
              <img class="w-32 h-32 rounded-full mx-auto" [src]="appoinmentDetails.patientDetails.profilePic" alt="John Doe">
          </div>
          <div class="p-2">
              <h3 class="text-center text-xl text-gray-900 font-medium leading-8">{{appoinmentDetails.patientDetails.firstName}} {{appoinmentDetails.patientDetails.lastName}}</h3>
              <table class="text-xs my-3">
                  <tbody>
                    <tr>
                      <td class="px-2 py-2 text-gray-500 font-semibold">Email</td>
                      <td class="px-2 py-2">{{appoinmentDetails.patientDetails.email}}</td>
                  </tr>
                  <tr>
                      <td class="px-2 py-2 text-gray-500 font-semibold">Gender</td>
                      <td class="px-2 py-2">{{appoinmentDetails.patientDetails.gender}}</td>
                  </tr>
              </tbody></table>
  
          
  
          </div>
      </div>
      <div>
        <div class="container mx-auto py-6">
          <div class="mb-2 flex space-x-4 p-2 bg-white rounded-lg shadow-md">
              <button (click)="openTab='MedicalRecord'" [class]="openTab==='MedicalRecord' ? 'bg-blue-500 text-white' : 'bg-white text-black'"
                  class="flex-1 py-2 px-4 rounded-md focus:outline-none focus:shadow-outline-blue transition-all duration-300">Medical
                  Records</button>
              <button (click)="openTab='Prescription'" [class]="openTab==='Prescription' ? 'bg-blue-500 text-white' : 'bg-white text-black'"
                  class="flex-1 py-2 px-4 rounded-md focus:outline-none focus:shadow-outline-blue transition-all duration-300">Prescriptions</button>
          </div>
          <div *ngIf="openTab==='MedicalRecord' && appoinmentDetails.medicalRecords" class="tab-content">
              <div class=" flex justify-between mt-1" *ngFor="let record of appoinmentDetails.medicalRecords">
                  <p class="text-sm font-thin mb-1">{{record.title}}</p>
                  <div>
                    <p-image 
                    [src]="record.fileUrl"
                    alt="Image" 
                    width="50" 
                    [preview]="true" />
                  </div>
              </div>
          </div>
          <div *ngIf="openTab==='Prescription' && appoinmentDetails.prescription" class="tab-content">
              <div class="flex justify-between mt-1">
                  <h2 class="text-sm  font-thin mb-4">{{appoinmentDetails.prescription.title}}</h2>
                  <div>
                      <img [src]="appoinmentDetails.prescription.file" alt="Prescriptions" class="w-full rounded-lg mb-4">
                  </div>
              </div>
          </div>
      </div>
      
  
      </div>
      </div>
       
      <div class="bg-white border border-blue-200 rounded-lg p-6">
        <div class="flex justify-between items-center border-b pb-2 mb-2">
            <h3 class="text-3xl font-bold text-indigo-600">Appointment Details</h3>
            <span class="text-sm text-gray-400">#sdsd</span>
        </div>
        <div class="grid grid-cols-1  gap-8">
            <div class="space-y-6 animate-fade-in-up">
                <div class="p-6 bg-gradient-to-r from-indigo-50 to-indigo-200 rounded-lg shadow-md hover:shadow-lg transition duration-300">
                    <h4 class="text-2xl font-semibold text-indigo-800 mb-4">Appointment Information</h4>
                    <div class="text-gray-700">
                        <p class="mb-2"><strong>Type:</strong> {{appoinmentDetails.typeOfAppointment | titlecase}}</p>
                        <p class="mb-2"><strong>Date:</strong> {{appoinmentDetails.date | date}}</p>
                        <p class="mb-2"><strong>Time:</strong> {{appoinmentDetails.slot }}</p>
                        <p class="mb-2"><strong>Duration:</strong> {{appoinmentDetails.duration}} minutes</p>
                        <p class="mb-2"><strong>Status:</strong>  {{appoinmentDetails.status }}</p>
                    </div>
                </div>
                <div class="p-6 bg-gradient-to-r from-green-50 to-green-200 rounded-lg shadow-md hover:shadow-lg transition duration-300">
                    <h4 class="text-2xl font-semibold text-green-800 mb-4">Payment Information</h4>
                    <div class="text-gray-700">
                        <p class="mb-2"><strong>Amount:</strong> {{appoinmentDetails.amount}}</p>
                        <p class="mb-2"><strong>Status:</strong>  {{appoinmentDetails.amount}}</p>
                        <!-- <p class="mb-2"><strong>Method:</strong> Credit Card</p>
                        <p class="mb-2"><strong>Transaction ID:</strong> ABC123XYZ</p> -->
                    </div>
                </div>
            </div>
          
        </div>
    </div>
    
</div>
</div>
</div>