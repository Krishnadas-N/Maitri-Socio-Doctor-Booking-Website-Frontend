<div class="p-2 md:p-4">
  <div class="w-full px-6 pb-8 sm:max-w-xl sm:rounded-lg">
      <!-- <h2 class="pl-6 text-2xl font-bold sm:text-xl">Public Profile</h2> -->

      <div class="grid max-w-2xl mx-auto ">
         

          <div class="items-center  sm:mt-14 text-[#202142]">
           
            <div class="mb-2 sm:mb-6">
                <div class="text-sm font-medium text-blue-900 dark:text-white">Your email:</div>
                <div class="flex items-center w-full gap-5">
                    <div *ngIf="UserDetails?.email" class="bg-blue-50 border border-blue-300 text-blue-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">{{ UserDetails.email }}</div>
                    <span *ngIf="!UserDetails?.email" class="bg-blue-50 border border-blue-300 text-blue-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">Email not available</span>
                    <button class="text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 focus:outline-none">
                    Change
                  </button>
                </div>
              </div>
              
            <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
              <div class="flex flex-col items-center w-full mb-2 space-x-0 space-y-2 sm:flex-row sm:space-x-4 sm:space-y-0 sm:mb-6">
                <div class="w-full">
                  <label for="first_name" class="block mb-2 text-sm font-medium text-blue-900 dark:text-white">Your first name</label>
                  <input type="text" id="first_name" [readonly]="!isEdit" formControlName="firstName" class="bg-blue-50 border border-blue-300 text-blue-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" placeholder="Your first name" required>
                  <div *ngIf="profileForm.get('firstName')?.touched && profileForm.get('firstName')?.errors" class="text-red-500 text-sm mt-1">
                    <div *ngIf="profileForm.get('firstName')?.errors?.['required']">First name is required</div>
                    <div *ngIf="profileForm.get('firstName')?.errors?.['minlength']">First name must be at least 3 characters long</div>
                    <div *ngIf="profileForm.get('firstName')?.errors?.['maxlength']">First name cannot be longer than 25 characters</div>
                  </div>
                
                </div>
                
                <div class="w-full">
                  <label for="last_name" class="block mb-2 text-sm font-medium text-blue-900 dark:text-white">Your last name</label>
                  <input type="text" id="last_name" [readonly]="!isEdit" formControlName="lastName" class="bg-blue-50 border border-blue-300 text-blue-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" placeholder="Your last name" required>
                  <div *ngIf="profileForm.get('lastName')?.touched && profileForm.get('lastName')?.errors" class="text-red-500 text-sm mt-1">
                    <div *ngIf="profileForm.get('lastName')?.errors?.['required']">Last name is required</div>
                    <div *ngIf="profileForm.get('lastName')?.errors?.['minlength']">Last name must be at least 1 character long</div>
                    <div *ngIf="profileForm.get('lastName')?.errors?.['maxlength']">Last name cannot be longer than 25 characters</div>
                  </div>
                </div>
              </div>
              
              <div class="mb-2 sm:mb-6">
                <label for="username" class="block mb-2 text-sm font-medium text-blue-900 dark:text-white">Your username</label>
                <input type="text" id="username" [readonly]="!isEdit" formControlName="username" class="bg-blue-50 border border-blue-300 text-blue-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" placeholder="Your username" required>
                <div *ngIf="profileForm.get('username')?.touched && profileForm.get('username')?.errors" class="text-red-500 text-sm mt-1">
                    <div *ngIf="profileForm.get('username')?.errors?.['required']">Username is required</div>
                    <div *ngIf="profileForm.get('username')?.errors?.['maxlength']">Username cannot be longer than 25 characters</div>
                    <div *ngIf="profileForm.get('username')?.errors?.['pattern']">Username can only contain lowercase letters, numbers, and underscores</div>
                  </div>
              </div>
              
              <div class="mb-2 sm:mb-6">
                <label for="date_of_birth" class="block mb-2 text-sm font-medium text-blue-900 dark:text-white">Date of Birth</label>
                
                <div *ngIf="UserDetails?.dateOfBirth && !isEdit" class="bg-blue-50 border border-blue-300 text-blue-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">{{ UserDetails.dateOfBirth | date }}</div>
                <span *ngIf="!UserDetails?.dateOfBirth  && !isEdit " class="bg-blue-50 border border-blue-300 text-blue-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">Date of Brith Not available</span>
            
                <input type="date" *ngIf="isEdit" id="date_of_birth" formControlName="dateOfBirth" class="bg-blue-50 border border-blue-300 text-blue-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" required>
                <div *ngIf="profileForm.get('dateOfBirth')?.touched && profileForm.get('dateOfBirth')?.errors" class="text-red-500 text-sm mt-1">
                    <div *ngIf="profileForm.get('dateOfBirth')?.errors?.['required']">Date of birth is required</div>
                  </div>  
                 </div>
              
              <div class="mb-6">
                <label for="gender" class="block mb-2 text-sm font-medium text-blue-900 dark:text-white">Gender</label>
                <select id="gender" formControlName="gender" [ngClass]="{ 'disabled-select': !isEdit }" class="bg-blue-50 border border-blue-300 text-blue-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" required>
                  <option value="">Select gender</option>
                  <option value="male">Male</option>
                  <option value="female">Female</option>
                  <option value="other">Other</option>
                </select>
                <div *ngIf="profileForm.get('gender')?.touched && profileForm.get('gender')?.errors" class="text-red-500 text-sm mt-1">
                    <div *ngIf="profileForm.get('gender')?.errors?.['required']">Gender is required</div>
                  </div>
                    </div>
              
              <div class="flex justify-end">
                <button *ngIf="isEdit" type="submit" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800" [class.btn-loading]="loading$ | async">
                  <span *ngIf="(loading$ | async)">
                    <!-- Show spinner while loading -->
                    <i class="fas fa-spinner fa-spin"></i>
                  </span>
                  <span *ngIf="!(loading$ | async)">Save</span>
                </button>
                <button *ngIf="!isEdit" (click)="ClickToEdit()" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Edit</button>
              </div>
            </form>
          </div>
          <div class="flex flex-col items-center space-y-5 sm:flex-row sm:space-y-0">


            <div class="flex flex-col space-y-5 sm:ml-8">
                <!-- <button type="button" (click)="changePassword()"
                    class="py-3.5 px-7 text-base font-medium text-blue-100 focus:outline-none bg-blue-400 rounded-lg border border-blue-200 hover:bg-blue-900 focus:z-10 focus:ring-4 focus:ring-blue-200 ">
                    Change Password
                </button> -->
                <!-- <button type="button"
                    class="py-3.5 px-7 text-base font-medium text-blue-900 focus:outline-none bg-white rounded-lg border border-blue-200 hover:bg-blue-100 hover:text-[#202142] focus:z-10 focus:ring-4 focus:ring-blue-200 ">
                    Delete picture
                </button> -->
            </div>
        </div>
        
      </div>
  </div>
</div>